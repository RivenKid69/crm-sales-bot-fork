"""
200 complex diverse queries for full E2E audit.

Categories (20+):
  1.  compound_pricing       — цена + функции + скидки (10)
  2.  compound_multi         — 3+ тем в одном вопросе (10)
  3.  comparison_products    — Desktop vs Mobile vs Pro (10)
  4.  comparison_competitors — Wipon vs Poster/iiko/1С/R-Keeper (10)
  5.  specific_pricing       — точные цифры цен (10)
  6.  specific_equipment     — оборудование, гарантии (10)
  7.  specific_features      — конкретные функции (10)
  8.  cross_category         — вопросы из 3-5 категорий (10)
  9.  objection_price        — возражения по цене (10)
  10. objection_competitor   — "у X лучше" (8)
  11. objection_emotional    — эмоциональные возражения (7)
  12. objection_risk         — сомнения в надёжности (5)
  13. nonstandard_typos      — ошибки, опечатки (10)
  14. nonstandard_slang      — сленг, разговорный (10)
  15. deep_fiscal            — фискализация, ТИС, ЭЦП (8)
  16. deep_integrations      — интеграции, API (7)
  17. deep_analytics         — аналитика, отчёты (8)
  18. deep_inventory         — товары, склад, учёт (7)
  19. followup_context       — follow-up с историей диалога (10)
  20. edge_naive             — наивные пользователи (5)
  21. edge_enterprise        — крупные клиенты, сети (5)
  22. edge_industry          — отраслевые вопросы (10)
  23. negotiation            — торг, условия (5)
  24. regions_delivery       — регионы, доставка (5)
"""

# Autonomous flow states and matching intents
S_DISC = "autonomous_discovery"
S_QUAL = "autonomous_qualification"
S_PRES = "autonomous_presentation"
S_OBJ  = "autonomous_objection_handling"
S_NEG  = "autonomous_negotiation"
S_CLOS = "autonomous_closing"

I_FEAT  = "question_features"
I_PRICE = "price_question"
I_OBJ_P = "objection_price"
I_OBJ_C = "objection_competitor"
I_OBJ_N = "objection_no_need"
I_OBJ_R = "objection_risk"
I_OBJ_T = "objection_no_time"
I_GREET = "greeting"


def build_queries():
    queries = []
    qid = 0

    def q(query, cat, markers, state=S_DISC, intent=I_FEAT, history=None):
        nonlocal qid
        qid += 1
        queries.append({
            "id": qid,
            "query": query,
            "category": cat,
            "expect_markers": markers,
            "state": state,
            "intent": intent,
            "history": history,
        })

    # ═══════════════════════════════════════════════════════════════
    # 1. COMPOUND PRICING (10)
    # ═══════════════════════════════════════════════════════════════
    q("Сколько стоит Wipon Desktop, какие функции входят в базовый тариф и есть ли скидка при оплате за год?",
      "compound_pricing", ["цена", "тариф", "функци", "скидк"], S_QUAL, I_PRICE)
    q("Какие тарифы есть, чем они отличаются и какой лучше для магазина одежды?",
      "compound_pricing", ["тариф", "Mini", "Lite"], S_QUAL, I_PRICE)
    q("Цена на Wipon Pro, что в него входит и можно ли потом понизить тариф?",
      "compound_pricing", ["Pro", "₸"], S_QUAL, I_PRICE)
    q("Есть ли бесплатный тариф или пробный период, и сколько он длится?",
      "compound_pricing", ["бесплатн", "проб"], S_QUAL, I_PRICE)
    q("Сколько стоит подключение второй точки и нужен ли отдельный тариф?",
      "compound_pricing", ["точк", "тариф"], S_QUAL, I_PRICE)
    q("Какая цена за кассу плюс годовую подписку, и входит ли обучение?",
      "compound_pricing", ["₸", "обучен"], S_QUAL, I_PRICE)
    q("Стоимость Wipon Mini и Standard — в чём разница по цене и функционалу?",
      "compound_pricing", ["Mini", "Standard"], S_QUAL, I_PRICE)
    q("Есть ли скидки для новых клиентов и какие условия оплаты?",
      "compound_pricing", ["скидк"], S_QUAL, I_PRICE)
    q("Тариф Lite — что входит, какая цена и можно ли добавить второго пользователя?",
      "compound_pricing", ["Lite", "₸"], S_QUAL, I_PRICE)
    q("Какая стоимость для ИП и отличается ли она от цены для ТОО?",
      "compound_pricing", ["ИП", "₸"], S_QUAL, I_PRICE)

    # ═══════════════════════════════════════════════════════════════
    # 2. COMPOUND MULTI-TOPIC (10)
    # ═══════════════════════════════════════════════════════════════
    q("Расскажите про мобильное приложение, его функции и работает ли оно без интернета?",
      "compound_multi", ["мобил", "офлайн"], S_DISC, I_FEAT)
    q("Какие интеграции поддерживаются, есть ли API и можно ли подключить свою CRM?",
      "compound_multi", ["интеграц", "API"], S_DISC, I_FEAT)
    q("Как устроена аналитика, какие отчёты есть и можно ли экспортировать в Excel?",
      "compound_multi", ["аналитик", "отчёт", "Excel"], S_PRES, I_FEAT)
    q("Какое оборудование нужно, совместимо ли с обычным принтером чеков и сканером?",
      "compound_multi", ["оборудован", "принтер", "сканер"], S_DISC, I_FEAT)
    q("Как добавить товары в базу, можно ли импортировать из Excel и есть ли штрихкоды?",
      "compound_multi", ["товар", "импорт", "штрихкод"], S_DISC, I_FEAT)
    q("Есть ли управление сотрудниками, учёт рабочего времени и контроль кассовых операций?",
      "compound_multi", ["сотрудник", "контрол"], S_PRES, I_FEAT)
    q("Можно ли настроить программу лояльности, скидки по картам и бонусную систему?",
      "compound_multi", ["лояльност", "скидк", "бонус"], S_PRES, I_FEAT)
    q("Поддерживает ли система несколько складов, перемещение товаров между ними и инвентаризацию?",
      "compound_multi", ["склад", "перемещен", "инвентаризац"], S_DISC, I_FEAT)
    q("Как работает техподдержка, есть ли чат, телефон и в какие часы доступна?",
      "compound_multi", ["поддержк"], S_DISC, I_FEAT)
    q("Расскажите про фискализацию: какие ОФД поддерживаются, есть ли ЭСФ и СНТ?",
      "compound_multi", ["фискализац", "ОФД", "ЭСФ"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 3. COMPARISON PRODUCTS (10)
    # ═══════════════════════════════════════════════════════════════
    q("Сравните Wipon Desktop и Wipon Mobile — в чём разница по функционалу и цене?",
      "comparison_products", ["Desktop", "Mobile"], S_PRES, I_FEAT)
    q("Чем Wipon Pro отличается от Standard?",
      "comparison_products", ["Pro", "Standard"], S_PRES, I_FEAT)
    q("Wipon Mini и Lite — что лучше для маленького магазина?",
      "comparison_products", ["Mini", "Lite"], S_PRES, I_FEAT)
    q("В чём преимущество Desktop перед мобильной версией для ресторана?",
      "comparison_products", ["Desktop", "мобил"], S_PRES, I_FEAT)
    q("Нужен ли мне Pro если у меня одна точка продаж?",
      "comparison_products", ["Pro"], S_PRES, I_FEAT)
    q("Можно ли начать с Mini и потом перейти на Standard без потери данных?",
      "comparison_products", ["Mini", "Standard"], S_QUAL, I_PRICE)
    q("Какой тариф подходит для сети из 3 магазинов — Standard или Pro?",
      "comparison_products", ["Standard", "Pro", "сет"], S_PRES, I_FEAT)
    q("Wipon Desktop на Windows или Linux — есть ли разница в функциях?",
      "comparison_products", ["Windows", "Linux"], S_DISC, I_FEAT)
    q("Мобильное приложение полностью заменяет Desktop или это дополнение?",
      "comparison_products", ["мобил", "Desktop"], S_DISC, I_FEAT)
    q("Какой продукт лучше для кофейни — Wipon Mini или полный Desktop?",
      "comparison_products", ["Mini", "Desktop"], S_PRES, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 4. COMPARISON COMPETITORS (10)
    # ═══════════════════════════════════════════════════════════════
    q("Почему Wipon лучше чем Poster и iiko для небольшого кафе?",
      "comparison_competitors", ["Poster", "iiko"], S_OBJ, I_OBJ_C)
    q("Чем вы отличаетесь от 1С:Розница?",
      "comparison_competitors", ["1С"], S_OBJ, I_OBJ_C)
    q("У R-Keeper больше функций для ресторанов, зачем мне Wipon?",
      "comparison_competitors", ["R-Keeper"], S_OBJ, I_OBJ_C)
    q("Poster стоит дешевле и тоже работает в облаке, в чём ваше преимущество?",
      "comparison_competitors", ["Poster", "облак"], S_OBJ, I_OBJ_C)
    q("Мы сейчас на iiko, зачем переходить на Wipon?",
      "comparison_competitors", ["iiko"], S_OBJ, I_OBJ_C)
    q("Какие преимущества перед конкурентами по аналитике?",
      "comparison_competitors", ["аналитик", "конкурент"], S_PRES, I_FEAT)
    q("У всех конкурентов есть мобильные приложения, чем ваше лучше?",
      "comparison_competitors", ["мобил", "конкурент"], S_OBJ, I_OBJ_C)
    q("Сравните интеграции Wipon и Poster — у кого больше возможностей?",
      "comparison_competitors", ["Poster", "интеграц"], S_PRES, I_FEAT)
    q("Почему мне не стоит выбрать бесплатную кассу от банка?",
      "comparison_competitors", ["бесплатн", "банк"], S_OBJ, I_OBJ_C)
    q("В чём отличие от Сбис и Мой склад?",
      "comparison_competitors", ["конкурент"], S_OBJ, I_OBJ_C)

    # ═══════════════════════════════════════════════════════════════
    # 5. SPECIFIC PRICING (10)
    # ═══════════════════════════════════════════════════════════════
    q("Какая точная цена Wipon Desktop и что входит в стоимость?",
      "specific_pricing", ["₸"], S_QUAL, I_PRICE)
    q("Сколько стоит тариф Mini в месяц?",
      "specific_pricing", ["Mini", "₸"], S_QUAL, I_PRICE)
    q("Какая цена за тариф Standard на год?",
      "specific_pricing", ["Standard", "₸"], S_QUAL, I_PRICE)
    q("Стоимость ТИС для ИП — сколько это?",
      "specific_pricing", ["ТИС", "₸"], S_QUAL, I_PRICE)
    q("Цена регистрации кассы в налоговой — это отдельная услуга?",
      "specific_pricing", ["регистрац", "₸"], S_QUAL, I_PRICE)
    q("Сколько стоит обучение персонала?",
      "specific_pricing", ["обучен", "₸"], S_QUAL, I_PRICE)
    q("Есть ли абонентская плата помимо стоимости лицензии?",
      "specific_pricing", ["плат", "₸"], S_QUAL, I_PRICE)
    q("Цена дополнительного кассового оборудования?",
      "specific_pricing", ["оборудован", "₸"], S_QUAL, I_PRICE)
    q("Какова стоимость налогового сопровождения в месяц?",
      "specific_pricing", ["налог", "₸"], S_QUAL, I_PRICE)
    q("Сколько стоит Wipon Pro за год?",
      "specific_pricing", ["Pro", "₸"], S_QUAL, I_PRICE)

    # ═══════════════════════════════════════════════════════════════
    # 6. SPECIFIC EQUIPMENT (10)
    # ═══════════════════════════════════════════════════════════════
    q("Какой срок гарантии на оборудование Wipon?",
      "specific_equipment", ["гарант"], S_DISC, I_FEAT)
    q("Какие модели POS-терминалов совместимы с Wipon?",
      "specific_equipment", ["POS", "терминал"], S_DISC, I_FEAT)
    q("Нужен ли специальный принтер чеков или подойдёт любой?",
      "specific_equipment", ["принтер", "чек"], S_DISC, I_FEAT)
    q("Какие сканеры штрихкодов поддерживает система?",
      "specific_equipment", ["сканер", "штрихкод"], S_DISC, I_FEAT)
    q("Работает ли Wipon на обычном ноутбуке или нужен специальный моноблок?",
      "specific_equipment", ["моноблок"], S_DISC, I_FEAT)
    q("Можно ли использовать весы с Wipon для продажи на вес?",
      "specific_equipment", ["вес"], S_DISC, I_FEAT)
    q("Поддерживает ли система денежный ящик?",
      "specific_equipment", ["денежн", "ящик"], S_DISC, I_FEAT)
    q("Какой минимальный набор оборудования нужен для старта?",
      "specific_equipment", ["оборудован"], S_DISC, I_FEAT)
    q("Есть ли у вас готовые комплекты оборудования?",
      "specific_equipment", ["комплект", "оборудован"], S_DISC, I_FEAT)
    q("Работает ли касса на Android-планшете?",
      "specific_equipment", ["Android", "планшет"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 7. SPECIFIC FEATURES (10)
    # ═══════════════════════════════════════════════════════════════
    q("Можно ли продавать товары в рассрочку через Wipon?",
      "specific_features", ["рассрочк"], S_DISC, I_FEAT)
    q("Поддерживает ли система мультивалютные платежи?",
      "specific_features", ["валют"], S_DISC, I_FEAT)
    q("Можно ли настроить автоматическое списание товаров при продаже?",
      "specific_features", ["списан", "товар"], S_DISC, I_FEAT)
    q("Есть ли возможность возврата товара через кассу?",
      "specific_features", ["возврат"], S_DISC, I_FEAT)
    q("Можно ли печатать ценники из системы?",
      "specific_features", ["ценник"], S_DISC, I_FEAT)
    q("Поддерживает ли Wipon отложенные продажи?",
      "specific_features", ["отложен"], S_DISC, I_FEAT)
    q("Можно ли вести учёт в нескольких языках?",
      "specific_features", ["язык"], S_DISC, I_FEAT)
    q("Есть ли функция инвентаризации товаров?",
      "specific_features", ["инвентаризац"], S_DISC, I_FEAT)
    q("Поддерживается ли оплата QR-кодом через Kaspi?",
      "specific_features", ["QR", "Kaspi"], S_DISC, I_FEAT)
    q("Можно ли вести базу клиентов в системе?",
      "specific_features", ["клиент", "баз"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 8. CROSS-CATEGORY 3+ (10)
    # ═══════════════════════════════════════════════════════════════
    q("Мне нужна касса с аналитикой, учётом товаров, фискальными чеками и мобильным приложением",
      "cross_category", ["аналитик", "товар", "фиск", "мобил"], S_PRES, I_FEAT)
    q("Расскажите про обучение персонала, техподдержку и сроки развёртывания системы",
      "cross_category", ["обучен", "поддержк"], S_DISC, I_FEAT)
    q("Нужна касса для ИП с ТИС, фискализацией, интеграцией с банком и мобильным контролем",
      "cross_category", ["ТИС", "фиск", "мобил"], S_DISC, I_FEAT)
    q("Какие есть акции на оборудование, тарифы и обучение для новых клиентов?",
      "cross_category", ["акци", "оборудован", "тариф"], S_QUAL, I_PRICE)
    q("Нужна система с отчётами по продажам, контролем сотрудников, складским учётом и доставкой",
      "cross_category", ["отчёт", "сотрудник", "склад"], S_PRES, I_FEAT)
    q("Как перейти с конкурента на Wipon: перенос данных, обучение, стоимость миграции?",
      "cross_category", ["перенос", "обучен"], S_DISC, I_FEAT)
    q("Хочу кассу на мобильном с офлайн-режимом, печатью чеков и подключением к 1С",
      "cross_category", ["мобил", "офлайн", "1С"], S_DISC, I_FEAT)
    q("Какие гарантии на оборудование, софт и уровень поддержки вы даёте?",
      "cross_category", ["гарант", "поддержк"], S_DISC, I_FEAT)
    q("Мне нужна аналитика в реальном времени, контроль кассиров и автоматические акции",
      "cross_category", ["аналитик", "кассир", "акци"], S_PRES, I_FEAT)
    q("Система для аптечной сети: маркировка, фискализация, несколько точек, единый склад",
      "cross_category", ["маркировк", "фиск", "сет", "склад"], S_PRES, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 9. OBJECTION PRICE (10)
    # ═══════════════════════════════════════════════════════════════
    q("Это слишком дорого для маленького магазина, у Poster дешевле",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("150 тысяч в год — это неподъёмная сумма для нас",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("Мы не готовы столько платить, есть что-то подешевле?",
      "objection_price", ["тариф"], S_OBJ, I_OBJ_P)
    q("За эти деньги можно купить 1С и не платить ежемесячно",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("Мы маленький бизнес, нам не по карману платная касса",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("Зачем платить за кассу если банк даёт бесплатную?",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("Подписка на год — это рискованно, вдруг нам не подойдёт",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("У нас бюджет ограничен, максимум 5 тысяч в месяц",
      "objection_price", ["тариф"], S_OBJ, I_OBJ_P)
    q("Я не хочу платить за функции которые мне не нужны",
      "objection_price", [], S_OBJ, I_OBJ_P)
    q("В конце года всегда скидки, подожду",
      "objection_price", [], S_OBJ, I_OBJ_P)

    # ═══════════════════════════════════════════════════════════════
    # 10. OBJECTION COMPETITOR (8)
    # ═══════════════════════════════════════════════════════════════
    q("Мы уже используем Poster и нас всё устраивает",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("Наш бухгалтер привык к 1С, не хочет переучиваться",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("iiko специализируется на ресторанах, Wipon — нет",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("R-Keeper у всех ресторанов в городе, зачем нам что-то другое?",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("Нам друзья посоветовали другую систему, она якобы лучше",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("Мы уже купили кассу у конкурента, но ещё не настроили — поздно менять",
      "objection_competitor", [], S_OBJ, I_OBJ_C)
    q("Я слышал что Wipon тормозит на большом каталоге — это правда?",
      "objection_competitor", [], S_OBJ, I_OBJ_R)
    q("Бесплатные решения сейчас не хуже платных",
      "objection_competitor", [], S_OBJ, I_OBJ_C)

    # ═══════════════════════════════════════════════════════════════
    # 11. OBJECTION EMOTIONAL (7)
    # ═══════════════════════════════════════════════════════════════
    q("Мы уже пробовали автоматизацию, не получилось, зачем нам снова?",
      "objection_emotional", [], S_OBJ, I_OBJ_N)
    q("Мне и так хорошо, ничего менять не хочу",
      "objection_emotional", [], S_OBJ, I_OBJ_N)
    q("Это всё маркетинг, на деле ничего не работает как обещают",
      "objection_emotional", [], S_OBJ, I_OBJ_N)
    q("Сейчас кризис, не до нововведений",
      "objection_emotional", [], S_OBJ, I_OBJ_T)
    q("Мне некогда этим заниматься, бизнес и так отнимает всё время",
      "objection_emotional", [], S_OBJ, I_OBJ_T)
    q("Я не разбираюсь в технологиях и боюсь что не справлюсь",
      "objection_emotional", [], S_OBJ, I_OBJ_N)
    q("Мои сотрудники саботируют любые изменения, бесполезно",
      "objection_emotional", [], S_OBJ, I_OBJ_N)

    # ═══════════════════════════════════════════════════════════════
    # 12. OBJECTION RISK/STABILITY (5)
    # ═══════════════════════════════════════════════════════════════
    q("А если Wipon перестанет работать во время наплыва покупателей?",
      "objection_risk", ["стабил"], S_OBJ, I_OBJ_R)
    q("Что будет с моими данными если Wipon закроется?",
      "objection_risk", [], S_OBJ, I_OBJ_R)
    q("Облачное хранение — это же небезопасно, данные могут утечь",
      "objection_risk", [], S_OBJ, I_OBJ_R)
    q("Интернет у нас нестабильный, касса будет постоянно зависать?",
      "objection_risk", ["офлайн"], S_OBJ, I_OBJ_R)
    q("А если хакеры взломают вашу систему и получат данные о моих продажах?",
      "objection_risk", [], S_OBJ, I_OBJ_R)

    # ═══════════════════════════════════════════════════════════════
    # 13. NON-STANDARD TYPOS (10)
    # ═══════════════════════════════════════════════════════════════
    q("а можна ли с вашой касой работат без интырнета вапще?",
      "nonstandard_typos", ["офлайн"], S_DISC, I_FEAT)
    q("скока стоет виппон десктоп?",
      "nonstandard_typos", ["₸"], S_QUAL, I_PRICE)
    q("ест ли у вас мабильное прилажение?",
      "nonstandard_typos", ["мобил"], S_DISC, I_FEAT)
    q("как рабоатет аналитека в випон?",
      "nonstandard_typos", ["аналитик"], S_DISC, I_FEAT)
    q("можно ли печтать ценики из системы?",
      "nonstandard_typos", ["ценник"], S_DISC, I_FEAT)
    q("какие есть тарефы и скока ани стоют?",
      "nonstandard_typos", ["тариф", "₸"], S_QUAL, I_PRICE)
    q("подерживает ли виппон штрих коды?",
      "nonstandard_typos", ["штрихкод"], S_DISC, I_FEAT)
    q("ест ли гаранития на абаруование?",
      "nonstandard_typos", ["гарант"], S_DISC, I_FEAT)
    q("как падключить фискалный регестратор?",
      "nonstandard_typos", ["фискал"], S_DISC, I_FEAT)
    q("можна ли вести учот таваров на скалде?",
      "nonstandard_typos", ["учёт", "товар", "склад"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 14. NON-STANDARD SLANG (10)
    # ═══════════════════════════════════════════════════════════════
    q("Короче, мне надо чтоб продавцы не воровали и чтоб я видел кто сколько продаёт",
      "nonstandard_slang", ["сотрудник", "продаж"], S_PRES, I_FEAT)
    q("нам нужно для ип, три компонента, типа касса фискалка и эцп или как это",
      "nonstandard_slang", ["ТИС", "ИП", "компонент"], S_DISC, I_FEAT)
    q("мне бы такую штуку чтоб тыкнул и чек полетел",
      "nonstandard_slang", ["чек", "касс"], S_DISC, I_FEAT)
    q("нам нужна такая фигня чтоб товар сканировать и чтоб само считало",
      "nonstandard_slang", ["сканер", "товар"], S_DISC, I_FEAT)
    q("а чё, реально можно с телефона магазином рулить?",
      "nonstandard_slang", ["мобил", "телефон"], S_DISC, I_FEAT)
    q("братан, мне просто надо норм кассу, без заморочек, чтоб фурычила",
      "nonstandard_slang", ["касс"], S_DISC, I_FEAT)
    q("какой-нибудь самый дешманский вариант есть?",
      "nonstandard_slang", ["Mini", "₸"], S_QUAL, I_PRICE)
    q("а вот эта ваша облачная хрень — данные не потеряются?",
      "nonstandard_slang", ["облак", "данн"], S_DISC, I_FEAT)
    q("мне тупо надо чеки бить и всё, без наворотов",
      "nonstandard_slang", ["чек"], S_DISC, I_FEAT)
    q("слушай, а можно как-то пошарить кассу между двумя точками?",
      "nonstandard_slang", ["точ"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 15. DEEP FISCAL (8)
    # ═══════════════════════════════════════════════════════════════
    q("Поддерживает ли Wipon маркировку товаров и работу с алкогольной продукцией?",
      "deep_fiscal", ["маркировк"], S_PRES, I_FEAT)
    q("Как работает фискализация в Wipon — через какие ОФД?",
      "deep_fiscal", ["фискализац", "ОФД"], S_DISC, I_FEAT)
    q("Нужна ли ЭЦП для регистрации кассы и как её получить?",
      "deep_fiscal", ["ЭЦП", "регистрац"], S_DISC, I_FEAT)
    q("Что такое ТИС и обязательна ли она для ИП в Казахстане?",
      "deep_fiscal", ["ТИС", "ИП"], S_DISC, I_FEAT)
    q("Поддерживает ли система отправку ЭСФ и СНТ автоматически?",
      "deep_fiscal", ["ЭСФ", "СНТ"], S_DISC, I_FEAT)
    q("Как подключить фискальный регистратор к Wipon?",
      "deep_fiscal", ["фискал", "регистратор"], S_DISC, I_FEAT)
    q("Какие требования налоговой по кассовым чекам Wipon выполняет?",
      "deep_fiscal", ["налог", "чек"], S_DISC, I_FEAT)
    q("Можно ли работать без фискального модуля и добавить его позже?",
      "deep_fiscal", ["фискал"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 16. DEEP INTEGRATIONS (7)
    # ═══════════════════════════════════════════════════════════════
    q("Какие платёжные системы интегрированы с Wipon?",
      "deep_integrations", ["платёж", "интеграц"], S_DISC, I_FEAT)
    q("Есть ли интеграция с Kaspi Pay и как она работает?",
      "deep_integrations", ["Kaspi"], S_DISC, I_FEAT)
    q("Можно ли подключить онлайн-магазин к Wipon?",
      "deep_integrations", ["онлайн", "магазин"], S_DISC, I_FEAT)
    q("Поддерживается ли интеграция с системами доставки?",
      "deep_integrations", ["доставк", "интеграц"], S_DISC, I_FEAT)
    q("Есть ли открытый API для разработчиков?",
      "deep_integrations", ["API"], S_DISC, I_FEAT)
    q("Можно ли синхронизировать остатки товаров между онлайн и офлайн?",
      "deep_integrations", ["синхрониз", "товар"], S_DISC, I_FEAT)
    q("Поддерживает ли Wipon подключение банковского терминала?",
      "deep_integrations", ["банк", "терминал"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 17. DEEP ANALYTICS (8)
    # ═══════════════════════════════════════════════════════════════
    q("Какие отчёты по продажам можно строить?",
      "deep_analytics", ["отчёт", "продаж"], S_PRES, I_FEAT)
    q("Есть ли ABC-анализ товаров и как он работает?",
      "deep_analytics", ["ABC", "анализ"], S_PRES, I_FEAT)
    q("Можно ли видеть продажи в реальном времени?",
      "deep_analytics", ["реальн", "врем", "продаж"], S_PRES, I_FEAT)
    q("Какие KPI сотрудников можно отслеживать?",
      "deep_analytics", ["KPI", "сотрудник"], S_PRES, I_FEAT)
    q("Есть ли отчёт по прибыльности каждого товара?",
      "deep_analytics", ["прибыльност", "товар"], S_PRES, I_FEAT)
    q("Можно ли сравнить продажи за разные периоды?",
      "deep_analytics", ["сравн", "продаж", "период"], S_PRES, I_FEAT)
    q("Есть ли графики и визуализация данных?",
      "deep_analytics", ["график", "визуализац"], S_PRES, I_FEAT)
    q("Можно ли настроить автоматическую отправку отчётов на email?",
      "deep_analytics", ["отчёт", "email"], S_PRES, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 18. DEEP INVENTORY (7)
    # ═══════════════════════════════════════════════════════════════
    q("Сколько товаров можно загрузить в базу и есть ли лимиты?",
      "deep_inventory", ["товар"], S_DISC, I_FEAT)
    q("Как работает складской учёт в Wipon?",
      "deep_inventory", ["склад", "учёт"], S_DISC, I_FEAT)
    q("Можно ли вести учёт по партиям и срокам годности?",
      "deep_inventory", ["парти", "срок"], S_DISC, I_FEAT)
    q("Поддерживается ли учёт по серийным номерам?",
      "deep_inventory", ["серийн", "номер"], S_DISC, I_FEAT)
    q("Как сделать инвентаризацию через Wipon?",
      "deep_inventory", ["инвентаризац"], S_DISC, I_FEAT)
    q("Можно ли импортировать товары из Excel файла?",
      "deep_inventory", ["импорт", "Excel"], S_DISC, I_FEAT)
    q("Есть ли оповещения когда товар заканчивается на складе?",
      "deep_inventory", ["оповещен", "товар", "склад"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 19. FOLLOW-UP WITH HISTORY (10)
    # ═══════════════════════════════════════════════════════════════
    _h_mobile = [
        {"user": "Расскажите про мобильные приложения", "bot": "У нас есть Wipon Mobile — мобильная касса для Android."},
        {"user": "Интересно, а они офлайн работают?", "bot": "Да, Wipon Mobile работает офлайн и синхронизирует данные."},
    ]
    q("А какие у них ещё есть преимущества?",
      "followup_context", [], S_PRES, I_FEAT, history=_h_mobile)

    _h_pricing = [
        {"user": "Какие функции есть у Wipon Desktop?", "bot": "Wipon Desktop включает учёт товаров, аналитику продаж, управление сотрудниками."},
    ]
    q("А сколько это стоит и есть ли пробный период?",
      "followup_context", ["₸", "проб"], S_QUAL, I_PRICE, history=_h_pricing)

    _h_equip = [
        {"user": "Какое оборудование вы поддерживаете?", "bot": "Мы поддерживаем POS-терминалы, принтеры чеков, сканеры штрихкодов."},
    ]
    q("А на обычном компьютере это всё будет работать?",
      "followup_context", ["компьютер"], S_DISC, I_FEAT, history=_h_equip)

    _h_competitor = [
        {"user": "Мы используем Poster", "bot": "Poster — хорошее решение, но Wipon предлагает больше функций для автоматизации."},
    ]
    q("Какие именно функции у вас есть, которых нет у них?",
      "followup_context", ["функци"], S_PRES, I_FEAT, history=_h_competitor)

    _h_tis = [
        {"user": "Что такое ТИС?", "bot": "ТИС — трёхкомпонентная интегрированная система для ИП: касса, ЭЦП и POS-терминал."},
    ]
    q("А это обязательно для всех ИП или только для некоторых?",
      "followup_context", ["ИП"], S_DISC, I_FEAT, history=_h_tis)

    _h_analytics = [
        {"user": "Какие отчёты есть?", "bot": "Есть отчёты по продажам, товарам, сотрудникам и финансам."},
        {"user": "А можно экспортировать?", "bot": "Да, все отчёты можно экспортировать в Excel."},
    ]
    q("Подскажите, а в реальном времени данные обновляются?",
      "followup_context", ["реальн", "врем"], S_PRES, I_FEAT, history=_h_analytics)

    _h_objection = [
        {"user": "Дорого у вас", "bot": "Понимаю, цена — важный фактор. У нас есть тариф Mini от 5000 тенге в месяц."},
    ]
    q("А что входит в этот Mini?",
      "followup_context", ["Mini"], S_QUAL, I_PRICE, history=_h_objection)

    _h_setup = [
        {"user": "Как быстро можно подключиться?", "bot": "Подключение занимает 1-2 часа, включая настройку и обучение."},
    ]
    q("А что если мне нужно подключить несколько точек?",
      "followup_context", ["точ"], S_DISC, I_FEAT, history=_h_setup)

    _h_regions = [
        {"user": "Вы в каких городах работаете?", "bot": "Мы работаем по всему Казахстану."},
    ]
    q("А в моём маленьком посёлке тоже сможете подключить?",
      "followup_context", [], S_DISC, I_FEAT, history=_h_regions)

    _h_enterprise = [
        {"user": "У нас сеть из 5 магазинов", "bot": "Для сети из 5 магазинов идеально подойдёт тариф Pro с управлением несколькими точками."},
        {"user": "А скидка будет?", "bot": "Да, для сетей мы предоставляем индивидуальные условия."},
    ]
    q("Сколько примерно выйдет за все 5 точек на год?",
      "followup_context", ["₸"], S_NEG, I_PRICE, history=_h_enterprise)

    # ═══════════════════════════════════════════════════════════════
    # 20. EDGE — NAIVE USERS (5)
    # ═══════════════════════════════════════════════════════════════
    q("Мне нужна касса, я вообще не разбираюсь, что подойдёт для цветочного магазина?",
      "edge_naive", [], S_DISC, I_FEAT)
    q("Я ничего не понимаю в программах, это сложно будет?",
      "edge_naive", [], S_DISC, I_FEAT)
    q("Мне подруга сказала что нужна какая-то онлайн касса по закону, это правда?",
      "edge_naive", ["касс", "закон"], S_DISC, I_FEAT)
    q("Здравствуйте, я только открываю бизнес и не знаю с чего начать",
      "edge_naive", [], S_DISC, I_FEAT)
    q("У меня палатка на рынке, мне вообще касса нужна?",
      "edge_naive", ["касс"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 21. EDGE — ENTERPRISE (5)
    # ═══════════════════════════════════════════════════════════════
    q("Если я куплю 10 касс для сети ресторанов, будет ли оптовая скидка?",
      "edge_enterprise", ["скидк"], S_NEG, I_PRICE)
    q("Нам нужна интеграция с нашей ERP-системой на базе SAP",
      "edge_enterprise", ["интеграц"], S_DISC, I_FEAT)
    q("Мы корпоративный клиент с 50 точками, есть ли enterprise-решение?",
      "edge_enterprise", ["сет"], S_NEG, I_PRICE)
    q("Нужен SLA на поддержку с гарантированным временем ответа",
      "edge_enterprise", ["поддержк"], S_NEG, I_FEAT)
    q("Можно ли развернуть Wipon на наших собственных серверах?",
      "edge_enterprise", ["сервер"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 22. EDGE — INDUSTRY-SPECIFIC (10)
    # ═══════════════════════════════════════════════════════════════
    q("Подойдёт ли Wipon для аптеки с маркировкой лекарств?",
      "edge_industry", ["аптек", "маркировк"], S_DISC, I_FEAT)
    q("Нам нужна касса для ресторана с разделением на зал и кухню",
      "edge_industry", ["ресторан"], S_DISC, I_FEAT)
    q("Подходит ли для магазина автозапчастей с тысячами позиций?",
      "edge_industry", ["товар"], S_DISC, I_FEAT)
    q("Мы продаём алкоголь, нужна ли специальная лицензия для кассы?",
      "edge_industry", ["алкогол"], S_DISC, I_FEAT)
    q("Подойдёт ли для салона красоты с записью клиентов?",
      "edge_industry", ["салон"], S_DISC, I_FEAT)
    q("У нас пекарня-кондитерская, нужен учёт по весу и штукам",
      "edge_industry", ["вес"], S_DISC, I_FEAT)
    q("Фастфуд с доставкой — какие функции подойдут?",
      "edge_industry", ["доставк"], S_DISC, I_FEAT)
    q("Магазин строительных материалов — можно ли вести учёт по метражу?",
      "edge_industry", ["учёт"], S_DISC, I_FEAT)
    q("Мы оптовая компания, нужны оптовые цены и разные прайс-листы",
      "edge_industry", ["оптов", "прайс"], S_DISC, I_FEAT)
    q("Подойдёт ли для мебельного салона с индивидуальными заказами?",
      "edge_industry", ["заказ"], S_DISC, I_FEAT)

    # ═══════════════════════════════════════════════════════════════
    # 23. NEGOTIATION (5)
    # ═══════════════════════════════════════════════════════════════
    q("Мы готовы подключиться если дадите скидку 20%",
      "negotiation", ["скидк"], S_NEG, I_PRICE)
    q("Можно оплатить в рассрочку на 6 месяцев?",
      "negotiation", ["рассрочк"], S_NEG, I_PRICE)
    q("Если мы оплатим за 2 года вперёд, какая будет цена?",
      "negotiation", ["₸"], S_NEG, I_PRICE)
    q("Нам нужен индивидуальный тариф — 3 кассы но без аналитики",
      "negotiation", ["тариф"], S_NEG, I_PRICE)
    q("Давайте начнём с пробного месяца и если всё ок — оформим на год",
      "negotiation", ["проб"], S_NEG, I_PRICE)

    # ═══════════════════════════════════════════════════════════════
    # 24. REGIONS & DELIVERY (5)
    # ═══════════════════════════════════════════════════════════════
    q("Какие регионы вы обслуживаете? Работаете ли в Шымкенте и Актобе?",
      "regions_delivery", ["регион"], S_DISC, I_FEAT)
    q("Как с доставкой оборудования в Караганду?",
      "regions_delivery", ["доставк", "Караганд"], S_DISC, I_FEAT)
    q("Мы находимся в Актау — есть ли у вас там представительство?",
      "regions_delivery", ["Актау"], S_DISC, I_FEAT)
    q("Доставляете ли в сельские районы?",
      "regions_delivery", ["доставк"], S_DISC, I_FEAT)
    q("Сколько времени занимает доставка оборудования в регионы?",
      "regions_delivery", ["доставк", "регион"], S_DISC, I_FEAT)

    assert len(queries) == 200, f"Expected 200 queries, got {len(queries)}"
    return queries


QUERIES = build_queries()
