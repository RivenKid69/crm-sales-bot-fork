#!/usr/bin/env python3
"""
–ì–ï–ù–ï–†–ê–¢–û–† –°–õ–£–ß–ê–ô–ù–´–• –î–ò–ê–õ–û–ì–û–í –î–õ–Ø –°–¢–†–ï–°–°-–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

–°–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ:
1. –í–∞—Ä–∏–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–∏–Ω–æ–Ω–∏–º—ã, –æ–ø–µ—á–∞—Ç–∫–∏, –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤)
2. –°–ª—É—á–∞–π–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω + —Ç–µ–º
3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–∑ templates
"""

import random
import re
from typing import List, Dict, Tuple, Optional
from dataclasses import dataclass, field
from enum import Enum


# =============================================================================
# –°–õ–û–í–ê–†–ò –î–õ–Ø –í–ê–†–ò–ê–¶–ò–ô
# =============================================================================

# –°–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
SYNONYMS = {
    # –¶–µ–Ω–æ–≤—ã–µ
    "—Ü–µ–Ω–∞": ["—Å—Ç–æ–∏–º–æ—Å—Ç—å", "–ø—Ä–∞–π—Å", "–ø–æ—á—ë–º", "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç", "—Ç–∞—Ä–∏—Ñ", "—Ä–∞—Å—Ü–µ–Ω–∫–∏", "—Ü–µ–Ω–Ω–∏–∫", "–ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç", "—Å—Ç–æ–∏—Ç—å"],
    "—Å–∫–æ–ª—å–∫–æ": ["–ø–æ—á—ë–º", "–∫–∞–∫–∞—è —Ü–µ–Ω–∞", "–≤–æ —Å–∫–æ–ª—å–∫–æ –æ–±–æ–π–¥—ë—Ç—Å—è", "–ø—Ä–∞–π—Å", "–∫–∞–∫–æ–π —Ü–µ–Ω–Ω–∏–∫", "—á—Ç–æ –ø–æ —Ü–µ–Ω–µ"],
    "–±–µ—Å–ø–ª–∞—Ç–Ω–æ": ["–±–µ–∑ –æ–ø–ª–∞—Ç—ã", "–¥–∞—Ä–æ–º", "free", "–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π", "–Ω–∞ —Ö–∞–ª—è–≤—É", "0 —Ç–µ–Ω–≥–µ", "–Ω—É–ª–µ–≤–æ–π —Ç–∞—Ä–∏—Ñ", "—Ç—Ä–∏–∞–ª"],
    "–¥–æ—Ä–æ–≥–æ": ["–¥–æ—Ä–æ–≥–æ–≤–∞—Ç–æ", "–º–Ω–æ–≥–æ", "–Ω–µ –ø–æ –∫–∞—Ä–º–∞–Ω—É", "expensive", "–Ω–µ–¥—ë—à–µ–≤–æ", "–∫—É—Å–∞–µ—Ç—Å—è", "—Ü–µ–Ω–∞ –∫—É—Å–∞–µ—Ç—Å—è"],
    "—Å–∫–∏–¥–∫–∞": ["–¥–∏—Å–∫–æ–Ω—Ç", "–∞–∫—Ü–∏—è", "–ø—Ä–æ–º–æ–∫–æ–¥", "—Å–Ω–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã", "—Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞", "—Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"],

    # –ü—Ä–æ–¥—É–∫—Ç—ã
    "–∫–∞—Å—Å–∞": ["–∫–∫–º", "–∫–∞—Å—Å–æ–≤—ã–π –∞–ø–ø–∞—Ä–∞—Ç", "–æ–Ω–ª–∞–π–Ω-–∫–∞—Å—Å–∞", "pos", "—Ç–µ—Ä–º–∏–Ω–∞–ª", "–∫–∞—Å—Å–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "—á–µ–∫–æ–≤—ã–π –∞–ø–ø–∞—Ä–∞—Ç"],
    "–ø—Ä–æ–≥—Ä–∞–º–º–∞": ["—Å–∏—Å—Ç–µ–º–∞", "—Å–æ—Ñ—Ç", "–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "—Å–µ—Ä–≤–∏—Å", "–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞", "—Ä–µ—à–µ–Ω–∏–µ", "–ø—Ä–æ–¥—É–∫—Ç"],
    "—Ñ—É–Ω–∫—Ü–∏–∏": ["–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏", "—á—Ç–æ —É–º–µ–µ—Ç", "—Ñ–∏—á–∏", "—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª", "–æ–ø—Ü–∏–∏", "—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏", "capabilities"],

    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    "–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è": ["–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ", "—Å–≤—è–∑–∫–∞", "—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è", "–∫–æ–Ω–Ω–µ–∫—Ç", "—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ", "—Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ", "api"],
    "–ø–æ–¥–∫–ª—é—á–∏—Ç—å": ["–ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å", "—Å–≤—è–∑–∞—Ç—å", "—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å", "–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å", "–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤—è–∑—å"],

    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞
    "–ø–æ–º–æ—â—å": ["–ø–æ–¥–¥–µ—Ä–∂–∫–∞", "—Å–∞–ø–ø–æ—Ä—Ç", "support", "–ø–æ–º–æ–≥–∏—Ç–µ", "–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è", "–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ", "—Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ"],
    "–æ–±—É—á–µ–Ω–∏–µ": ["—Ç—Ä–µ–Ω–∏–Ω–≥", "–∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂", "–∫—É—Ä—Å", "–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è", "–ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫", "–Ω–∞—É—á–∏—Ç—å"],

    # –û–±—â–∏–µ
    "–±—ã—Å—Ç—Ä–æ": ["—Å—Ä–æ—á–Ω–æ", "—Å–∫–æ—Ä–µ–µ", "asap", "–ø–æ–±—ã—Å—Ç—Ä–µ–µ", "–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ", "–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ", "—Å–µ–π—á–∞—Å –∂–µ"],
    "—Ö–æ—Ä–æ—à–æ": ["–æ–∫", "–æ–∫–µ–π", "ok", "–ª–∞–¥–Ω–æ", "–¥–∞–≤–∞–π—Ç–µ", "—Å–æ–≥–ª–∞—Å–µ–Ω", "–ø–æ–π–¥—ë—Ç", "–≥–æ–¥–∏—Ç—Å—è", "–ø–æ–¥—Ö–æ–¥–∏—Ç"],
    "–Ω–µ—Ç": ["–Ω–µ –Ω–∞–¥–æ", "–Ω–µ –Ω—É–∂–Ω–æ", "–æ—Ç–∫–∞–∑", "–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ", "pass", "–ø–∞—Å", "–æ—Ç–∫–∞–∑—ã–≤–∞—é—Å—å", "–Ω–µ —Ö–æ—á—É"],
    "–ø—Ä–∏–≤–µ—Ç": ["–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ", "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å", "—Ö–∞–π", "—Å–∞–ª–∞–º", "hello", "hi", "–¥–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏", "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é"],
    "—Å–ø–∞—Å–∏–±–æ": ["–±–ª–∞–≥–æ–¥–∞—Ä—é", "thanks", "thx", "—Å–ø—Å", "–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å", "–ø—Ä–∏–∑–Ω–∞—Ç–µ–ª–µ–Ω", "–º–µ—Ä—Å–∏"],

    # –ë–∏–∑–Ω–µ—Å
    "–º–∞–≥–∞–∑–∏–Ω": ["—Ç–æ—á–∫–∞", "—Ç–æ—Ä–≥–æ–≤–∞—è —Ç–æ—á–∫–∞", "–ª–∞–≤–∫–∞", "shop", "–º–∞—Ä–∫–µ—Ç", "—Ä–æ–∑–Ω–∏—Ü–∞", "—Ç–æ—Ä–≥–æ–≤—ã–π –æ–±—ä–µ–∫—Ç", "outlet"],
    "—Ç–æ–≤–∞—Ä": ["–ø—Ä–æ–¥—É–∫—Ç", "–ø–æ–∑–∏—Ü–∏—è", "–∞—Ä—Ç–∏–∫—É–ª", "sku", "–Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞", "–∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç", "–µ–¥–∏–Ω–∏—Ü–∞"],
    "—Å–∫–ª–∞–¥": ["—Ö—Ä–∞–Ω–µ–Ω–∏–µ", "warehouse", "–æ—Å—Ç–∞—Ç–∫–∏", "–∑–∞–ø–∞—Å—ã", "—Å–∫–ª–∞–¥—Å–∫–∏–µ –æ—Å—Ç–∞—Ç–∫–∏", "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"],
    "–æ—Ç—á—ë—Ç": ["—Ä–µ–ø–æ—Ä—Ç", "report", "–∞–Ω–∞–ª–∏—Ç–∏–∫–∞", "—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "—Å–≤–æ–¥–∫–∞", "–∏—Ç–æ–≥–∏", "–≤—ã–≥—Ä—É–∑–∫–∞"],
    "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫": ["—Ä–∞–±–æ—Ç–Ω–∏–∫", "–ø–µ—Ä—Å–æ–Ω–∞–ª", "–ø—Ä–æ–¥–∞–≤–µ—Ü", "–∫–∞—Å—Å–∏—Ä", "–º–µ–Ω–µ–¥–∂–µ—Ä", "—à—Ç–∞—Ç"],
    "–∫–ª–∏–µ–Ω—Ç": ["–ø–æ–∫—É–ø–∞—Ç–µ–ª—å", "–∑–∞–∫–∞–∑—á–∏–∫", "–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å", "customer", "–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç"],
    "–∑–∞–∫–∞–∑": ["order", "–ø–æ–∫—É–ø–∫–∞", "—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è", "–æ–ø–µ—Ä–∞—Ü–∏—è", "—á–µ–∫"],

    # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ
    "—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å": ["–ø–æ—Å—Ç–∞–≤–∏—Ç—å", "–∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞—Ç—å", "–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å", "—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å", "install"],
    "—Ä–∞–±–æ—Ç–∞—Ç—å": ["—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å", "–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å", "—é–∑–∞—Ç—å", "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å", "–ø–∞—Ö–∞—Ç—å"],
    "–æ—à–∏–±–∫–∞": ["–±–∞–≥", "bug", "–ø—Ä–æ–±–ª–µ–º–∞", "–≥–ª—é–∫", "—Å–±–æ–π", "–Ω–µ–ø–æ–ª–∞–¥–∫–∞"],
}

# –¢–∏–ø–∏—á–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
TYPOS = {
    # –¶–µ–Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞
    "—Å–∫–æ–ª—å–∫–æ": ["—Å–∫–æ–∫–∞", "—Å–∫–æ–∫–æ", "—Å–∫–æ–ª–∫—å–æ", "—Å–∫–æ–ª—å–æ–∫", "—Å–∫–ª—å–∫–æ", "—Å–∫–æ–ª–±–∫–æ"],
    "—Å—Ç–æ–∏—Ç": ["—Å—Ç–æ–µ—Ç", "—Å—Ç–æ–∏—Ç—Ç", "—Å—Ç–æ–∏–¥", "—Å—Ç–æ–∏—Ç—å", "—Å—Ç–æ–∏–∏—Ç"],
    "—Ü–µ–Ω–∞": ["—Ü–Ω–∞", "—Ü–µ–Ω–Ω–∞", "—Ü–µ–Ω", "—Ü—ã–Ω–∞", "—Ü—ç–Ω–∞"],
    "–ø—Ä–∞–π—Å": ["–ø—Ä–∞—Å", "–ø—Ä–∞–π–∑", "–ø—Ä–∞–∏—Å", "–ø—Ä–∞–π—Å—Å", "–ø—Ä–∞–∏—Å", "–ø—Ä–∞–π—Å—å"],
    "–±–µ—Å–ø–ª–∞—Ç–Ω–æ": ["–±–µ—Å–ª–∞—Ç–Ω–æ", "–±–µ—Å–ø–ª–∞—Ç–Ω–∞", "–±–µ–∑–ø–ª–∞—Ç–Ω–æ", "–±–∏—Å–ø–∞—Ç–Ω–æ", "–±–∏—Å–ø–ª–∞—Ç–Ω–æ"],
    "–¥–æ—Ä–æ–≥–æ": ["–¥–æ—Ä–∞–≥–∞", "–¥–æ—Ä–æ–≥–æ–∞", "–¥–∞—Ä–æ–≥–æ", "–¥–æ—Ä–∞–≥–æ"],
    "—Ç–∞—Ä–∏—Ñ": ["—Ç–∞—Ä–∏–≤", "—Ç–∞—Ä–∏—Ñ—Ñ", "—Ç–æ—Ä–µ—Ñ", "—Ç–æ—Ä–∏—Ñ—Ñ"],

    # –ü—Ä–æ–¥—É–∫—Ç—ã
    "–∫–∞—Å—Å–∞": ["–∫–∞—Å–∞", "–∫–∞—Å–∞–∞", "–∫–∞—Å—Å—Å–∞", "–∫–∞—Å", "–∫–∞—Å–æ"],
    "–ø—Ä–æ–≥—Ä–∞–º–º–∞": ["–ø—Ä–æ–≥—Ä–º–º–∞", "–ø—Ä–∞–≥—Ä–∞–º–∞", "–ø—Ä–æ–≥–∞", "–ø—Ä–æ–≥—Ä–∞–º–º", "–ø—Ä–æ–≥–∞–º–∞"],
    "—Å–∏—Å—Ç–µ–º–∞": ["—Å–µ—Å—Ç–µ–º–∞", "—Å–∏—Å—Ç–º–∞", "—Å–∏—Ç–µ–º–∞", "—Å–∏—Å—Ç–µ–º–∞"],

    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    "–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è": ["–∏–Ω—Ç–µ–≥—Ä–∞—Ü—ã—è", "–∏–Ω—Ç–∏–≥—Ä–∞—Ü–∏—è", "–∏–Ω—Ç–µ–≥–∞—Ä—Ü–∏—è", "–∏–Ω—Ç–µ–≥—Ä", "–∏–Ω—Ç–∏–≥—Ä"],
    "–ø–æ–¥–∫–ª—é—á–∏—Ç—å": ["–ø–æ–¥–ª—é—á–∏—Ç—å", "–ø–æ–¥–∫–ª—é—á—Ç—å", "–ø–∞–¥–∫–ª—é—á–∏—Ç—å", "–ø–æ–¥–∫–ª—é—á—Ç—å", "–ø–æ–¥–∫–ª—é–∏—Ç—å"],
    "—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è": ["—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü—ã—è", "—Å–∏–Ω—Ö—Ä–∞–Ω–∏–∑–∞—Ü–∏—è", "—Å–∏–Ω—Ö—Ä–æ–Ω", "—Å–∏–Ω—Ö—Ä–∞"],

    # –û–±—â–∏–µ
    "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ": ["–∑–¥—Ä–∞—Å—Ç–≤—É–π—Ç–µ", "–∑–¥—Ä–∞—Å—Ç–µ", "–∑–¥—Ä–∞—Å—å—Ç–µ", "–∑–¥—Ä–∞—Å—Ç–≤—É–π—Ç", "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç"],
    "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞": ["–ø–æ–∂–∞–ª—É—Å—Ç–∞", "–ø–æ–∂–∞–ª—Å—Ç–∞", "–ø–ª–∑", "–ø–ª–∏–∑", "pls", "–ø–∂–ª—Å—Ç", "–ø–∂–ª"],
    "—Å–ø–∞—Å–∏–±–æ": ["—Å–ø–∞—Å–∏–±–∞", "—Å–ø—Å", "—Å–ø—Å–±", "–ø–∞—Å–∏–±", "—Å–ø–æ—Å–∏–±–æ", "—Å–ø–∞—Å–∏–±–∞–∞"],
    "—Ö–æ—Ä–æ—à–æ": ["—Ö–æ—Ä–∞—à–æ", "—Ö–∞—Ä–∞—à–æ", "—Ö—Ä—à", "—Ö–æ—Ä–æ—à", "—Ö–æ—Ä–æ—à–æ–æ"],
    "–ª–∞–¥–Ω–æ": ["–ª–∞–¥–Ω–∞", "–ª–∞–¥—ã", "–ª–∞–¥–Ω", "–ª–∞–Ω", "–ª–∞–Ω–Ω"],

    # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ
    "—Ä–∞–±–æ—Ç–∞–µ—Ç": ["—Ä–∞–±–æ—Ç–∞–∏—Ç", "—Ä–∞–±–æ—Ç–∞—ç—Ç", "—Ä–æ–±–∏—Ç", "—Ä–∞–±–æ—Ç–∞–µ—Ç", "—Ä–∞–±–æ—Ç–∞–µ—Ç—Ç"],
    "–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ": ["–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏e", "–∞–±–∞—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "–æ–±–æ—Ä—É–¥", "–æ–±–æ—Ä–¥–æ–≤–∞–Ω–∏–µ", "–æ–±–æ—Ä—É–æ–≤–∞–Ω–∏–µ"],
    "–∞–ª–∫–æ–≥–æ–ª—å": ["–∞–ª–∫–æ–≥–æ–ª—å", "–∞–ª–∫–∞–≥–æ–ª", "–∞–ª–∫–æ", "–∞–ª–∫–∞–≥–æ–ª—å", "–∞–ª–∫–æ–≥–æ–ª—å"],
    "—Å–∫–∞–Ω–µ—Ä": ["—Å–∫–∞–Ω–Ω–µ—Ä", "—Å–∫–∞–Ω—ç—Ä", "—Å–∫–Ω–µ—Ä", "—Å–∫–∞–Ω–∏—Ä"],
    "–ø—Ä–∏–Ω—Ç–µ—Ä": ["–ø—Ä–∏–Ω—Ç—Ä", "–ø—Ä–Ω—Ç–µ—Ä", "–ø—Ä–µ–Ω—Ç–µ", "–ø—Ä–∏–Ω—Ç–µ—Ä—Ä"],

    # –ë–∏–∑–Ω–µ—Å
    "–º–∞–≥–∞–∑–∏–Ω": ["–º–∞–≥–∞–∑–Ω", "–º–∞–≥–∑–∏–Ω", "–º–∞–≥–æ–∑–∏–Ω", "–º–∞–≥", "–º–∞–≥–∞–∑"],
    "—Ç–æ–≤–∞—Ä": ["—Ç–æ–≤–∞—Ä—Ä", "—Ç–æ–≤—Ä", "—Ç–∞–≤–∞—Ä", "—Ç–æ–≤–∞—Ä—ã"],
    "—Å–∫–ª–∞–¥": ["—Å–∫–ª–∞—Ç", "—Å–∫–∞–ª–¥", "—Å–∫–ª–∞", "—Å–∫–ª–∞–¥–¥"],
    "–∫–ª–∏–µ–Ω—Ç": ["–∫–ª–∏—ç–Ω—Ç", "–∫–ª–µ–∏–Ω—Ç", "–∫–ª–∏–µ–Ω", "–∫–ª–∏–∫–µ–Ω—Ç"],
    "–∑–∞–∫–∞–∑": ["–∑–∞–∫–∞–∑–∑", "–∑–∫–∞–∑", "–∑–∞–∫–∞—Å", "–∑–∞–∫–∞–∑—ã"],

    # –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ
    "–∫–∞–∫–æ–π": ["–∫–∞–∫–æ–æ–π", "–∫–∞–∫–æ–∏", "–∫–∞–∫–π–æ", "–∫–∫–æ–π"],
    "–∫–∞–∫–∞—è": ["–∫–∞–∫–∞—è—è", "–∫–∞–∫–æ—è", "–∫–∫–∞—è"],
    "–º–æ–∂–Ω–æ": ["–º–æ–∂–Ω–∞", "–º–∂–Ω–æ", "–º–æ–∂–Ω", "–º–æ–Ω–æ"],
    "–Ω—É–∂–Ω–æ": ["–Ω—É–∂–Ω–∞", "–Ω–∂–Ω–æ", "–Ω—É–Ω–∞", "–Ω–Ω—É–∂–Ω–æ"],
}

# –°–ª–µ–Ω–≥ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Ñ–æ—Ä–º—ã (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
SLANG = {
    # –¢–µ—Ö–Ω–∏–∫–∞
    "–ø—Ä–æ–≥—Ä–∞–º–º–∞": ["–ø—Ä–æ–≥–∞", "—Å–æ—Ñ—Ç", "–∞–ø–ø", "–ø—Ä–∏–ª–æ–∂—É—Ö–∞", "–∞–ø–∫–∞"],
    "–∫–æ–º–ø—å—é—Ç–µ—Ä": ["–∫–æ–º–ø", "–ø–∫", "pc", "–º–∞—à–∏–Ω–∞", "—Ç–∞—á–∫–∞"],
    "—Ç–µ–ª–µ—Ñ–æ–Ω": ["–º–æ–±–∏–ª–∞", "—Ç—Ä—É–±–∫–∞", "—Å–º–∞—Ä—Ç", "–º–æ–±–∏–ª–∫–∞", "—Ç–µ–ª–µ–≥–∞"],
    "–∏–Ω—Ç–µ—Ä–Ω–µ—Ç": ["–∏–Ω–µ—Ç", "—Å–µ—Ç—å", "wifi", "–≤–∞–π—Ñ–∞–π", "–Ω–µ—Ç"],
    "–Ω–æ—É—Ç–±—É–∫": ["–Ω–æ—É—Ç", "–±—É–∫", "–ª—ç–ø—Ç–æ–ø", "–Ω–æ—É—Ç–∏–∫"],
    "–ø–ª–∞–Ω—à–µ—Ç": ["–ø–ª–∞–Ω—à", "—Ç–∞–±–ª–µ—Ç–∫–∞", "–ø–ª–∞–Ω—à–µ—Ç–∏–∫"],

    # –û—Ü–µ–Ω–∫–∞
    "–Ω–æ—Ä–º–∞–ª—å–Ω–æ": ["–Ω–æ—Ä–º", "–∑–±—Å", "–≥—É–¥", "–æ–∫", "–Ω–∞–π—Å", "–Ω–∏—à—Ç—è–∫", "–∑–∞—à–∏–±–∏—Å—å"],
    "—Ö–æ—Ä–æ—à–æ": ["—á—ë—Ç–∫–æ", "–∫—Ä—É—Ç–æ", "–∫–ª–∞—Å—Å", "–æ–≥–æ–Ω—å", "—Ç–æ–ø", "–±–æ–º–±–∞"],
    "–ø–ª–æ—Ö–æ": ["—Ñ–∏–≥–æ–≤–æ", "—Ö—Ä–µ–Ω–æ–≤–æ", "–æ—Ç—Å—Ç–æ–π", "–¥–Ω–æ", "—Ç—Ä–µ—à—å"],
    "–æ—Ç–ª–∏—á–Ω–æ": ["—Å—É–ø–µ—Ä", "–æ–≥–æ–Ω—å", "–±–æ–º–±–∞", "–ø—É—à–∫–∞", "—á–µ—Ç–∫–æ"],

    # –ü—Ä–æ–±–ª–µ–º—ã
    "–ø—Ä–æ–±–ª–µ–º–∞": ["–ø—Ä–æ–±–ª–µ–º–∫–∞", "—Ç—Ä–∞–±–ª—ã", "–∫–æ—Å—è–∫", "–±–µ–¥–∞", "–∑–∞—Å–∞–¥–∞", "–≥–µ–º–æ—Ä—Ä–æ–π"],
    "–æ—à–∏–±–∫–∞": ["–±–∞–≥", "–≥–ª—é–∫", "–∫–æ—Å—è–∫", "–ª—è–ø", "—Ñ–µ–π–ª"],
    "—Å–ª–æ–º–∞–ª–æ—Å—å": ["—Å–¥–æ—Ö–ª–æ", "–Ω–∞–∫—Ä—ã–ª–æ—Å—å", "–ø–æ–ª–µ—Ç–µ–ª–æ", "–∫—Ä—è–∫–Ω—É–ª–æ", "–≥–ª—é–∫–Ω—É–ª–æ"],

    # –î–µ–Ω—å–≥–∏
    "–¥–µ–Ω—å–≥–∏": ["–±–∞–±–∫–∏", "–¥–µ–Ω—é–∂–∫–∏", "–∫—ç—à", "–ª–∞–≤—ç", "–±–∞–±–ª–æ", "–∫–∞–ø—É—Å—Ç–∞"],
    "–¥–æ—Ä–æ–≥–æ": ["–∫—É—Å–∞–µ—Ç—Å—è", "–∂–µ—Å—Ç—å –ø–æ —Ü–µ–Ω–µ", "—Ü–µ–Ω–Ω–∏–∫ –æ–≥–æ–Ω—å", "–ø–ø—Ü –¥–æ—Ä–æ–≥–æ"],
    "–¥—ë—à–µ–≤–æ": ["–Ω–µ–¥–æ—Ä–æ–≥–æ", "–∫–æ–ø–µ–π–∫–∏", "–ø–æ-–±–æ–∂–µ—Å–∫–∏", "–≥—É–º–∞–Ω–Ω–æ"],

    # –î–µ–π—Å—Ç–≤–∏—è
    "–±—ã—Å—Ç—Ä–æ": ["–±—ã—Å—Ç—Ä–µ–Ω—å–∫–æ", "–ø–æ-–±—ã—Å—Ç—Ä–æ–º—É", "—à—É—Å—Ç—Ä–æ", "–º–∏–≥–æ–º", "–∂–∏–≤–æ"],
    "—Ä–∞–±–æ—Ç–∞—Ç—å": ["–ø–∞—Ö–∞—Ç—å", "—é–∑–∞—Ç—å", "—é–∑–Ω—É—Ç—å", "–ø–æ–≥–æ–Ω—è—Ç—å", "–ø–æ—Ç—ã–∫–∞—Ç—å"],
    "–∫—É–ø–∏—Ç—å": ["–≤–∑—è—Ç—å", "–∑–∞–±—Ä–∞—Ç—å", "—Ö–∞–ø–Ω—É—Ç—å", "–∑–∞–∫—É–ø–∏—Ç—å—Å—è"],
    "–ø–æ–¥–∫–ª—é—á–∏—Ç—å": ["–≤–æ—Ç–∫–Ω—É—Ç—å", "–ø—Ä–∏–∫—Ä—É—Ç–∏—Ç—å", "–Ω–∞–∫–∏–Ω—É—Ç—å", "–ø—Ä–∏—Å–æ–±–∞—á–∏—Ç—å"],
    "–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å": ["–Ω–∞–ª–∞–¥–∏—Ç—å", "–ø–æ–¥–∫—Ä—É—Ç–∏—Ç—å", "–¥–æ–ø–∏–ª–∏—Ç—å", "–ø–æ–¥–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å"],

    # –û–±—â–µ–Ω–∏–µ
    "–ø—Ä–∏–≤–µ—Ç": ["–∑–¥–∞—Ä–æ–≤–∞", "—Ö–∞–π", "–π–æ", "–ø—Ä–∏–≤–µ—Ç–æ—Å", "—Å–∞–ª–∞–º"],
    "–ø–æ–∫–∞": ["–±–∞–π", "—á–∞–æ", "–¥–∞–≤–∞–π", "–ø–æ–∫–µ–¥–æ–≤–∞", "–¥–æ —Å–≤—è–∑–∏"],
    "—Å–ø–∞—Å–∏–±–æ": ["—Å–ø—Å", "–±–ª–∞–≥–æ–¥–∞—Ä–æ—á–∫–∞", "—Å—ç–Ω–∫—Å", "–º–µ—Ä—Å–∏"],
    "–ø–æ–Ω—è—Ç–Ω–æ": ["—è—Å–Ω–µ–Ω—å–∫–æ", "–ø–æ–Ω—è–ª", "–∞–≥–∞", "–æ–∫–µ–π", "—É—Å—ë–∫"],

    # –ë–∏–∑–Ω–µ—Å —Å–ª–µ–Ω–≥
    "–∫–ª–∏–µ–Ω—Ç": ["–∫–ª–∏–µ–Ω—Ç–æ—Å", "–∫–∞—Å—Ç–æ–º–µ—Ä", "–ø–æ–∫—É–ø–∞—à–∫–∞", "–∑–∞–∫–∞–∑—á–∏–∫"],
    "–ø—Ä–æ–¥–∞–∂–∞": ["–ø—Ä–æ–¥–∞–∂–∫–∞", "—Å–¥–µ–ª–∫–∞", "–∑–∞–∫—Ä—ã—Ç–∏–µ"],
    "—Å–∫–∏–¥–∫–∞": ["—Å–∫–∏–¥–æ—Å", "–¥–∏—Å–∫–æ–Ω—Ç", "–∞–∫—Ü–∏—è"],
}

# –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
EMOTIONAL_PREFIX = [
    "", "", "", "", "",  # –ß–∞—Å—Ç–æ –±–µ–∑ —ç–º–æ—Ü–∏–π (—É–≤–µ–ª–∏—á–µ–Ω –≤–µ—Å)
    "–°—Ä–æ—á–Ω–æ! ", "–°–†–û–ß–ù–û ", "–°—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ ", "–û—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ ",
    "–ü–æ–º–æ–≥–∏—Ç–µ, ", "–ü–æ–º–æ–≥–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, ", "–ü–æ–º–æ—â—å –Ω—É–∂–Ω–∞, ",
    "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, ", "–ü—Ä–æ—à—É, ", "–ë—É–¥—å—Ç–µ –¥–æ–±—Ä—ã, ",
    "–û—á–µ–Ω—å –Ω—É–∂–Ω–æ ", "–ö—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ ", "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–æ—á–Ω–æ ",
    "–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, ", "–°–∫–∞–∂–∏—Ç–µ, ", "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, ",
    "–°–ª—É—à–∞–π—Ç–µ, ", "–ö–æ—Ä–æ—á–µ, ", "–í –æ–±—â–µ–º, ",
    "–†–µ–±—è—Ç, ", "–ù–∞—Ä–æ–¥, ", "–î—Ä—É–∑—å—è, ",
    "!!!", "?? ", "–≠–π! ", "–ê–ª–ª–æ! ",
]

EMOTIONAL_SUFFIX = [
    "", "", "", "", "",  # –ß–∞—Å—Ç–æ –±–µ–∑ —ç–º–æ—Ü–∏–π (—É–≤–µ–ª–∏—á–µ–Ω –≤–µ—Å)
    "!", "!!", "!!!", "?", "??", "???",
    " –ø–æ–∂–∞–ª—É–π—Å—Ç–∞", " –ø–ª–∑", " –ø–ª–∏–∑", " pls",
    " —Å—Ä–æ—á–Ω–æ", " –æ—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ", " –ø—Ä—è–º —Å–µ–π—á–∞—Å",
    " –æ—á–µ–Ω—å –Ω—É–∂–Ω–æ", " –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ", " –∫—Ä–∏—Ç–∏—á–Ω–æ",
    ", –∑–∞—Ä–∞–Ω–µ–µ —Å–ø–∞—Å–∏–±–æ", ", –±–ª–∞–≥–æ–¥–∞—Ä—é", ", thx",
    "...", " –∫—Å—Ç–∞—Ç–∏", " –º–µ–∂–¥—É –ø—Ä–æ—á–∏–º",
    " üôè", " üëÄ", " ‚ö°",
]

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–º (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
GREETINGS = {
    "formal": [
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å!",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!",
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—Ç–µ–ª –±—ã —É–∑–Ω–∞—Ç—å",
        "–î–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫!",
        "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é!",
        "–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä, –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å",
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –æ–±—Ä–∞—â–∞—é—Å—å –ø–æ –≤–æ–ø—Ä–æ—Å—É",
        "–£–≤–∞–∂–∞–µ–º—ã–µ, –ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ",
    ],
    "casual": [
        "–ü—Ä–∏–≤–µ—Ç",
        "–•–∞–π",
        "–ü—Ä–∏–≤",
        "–ó–¥–∞—Ä–æ–≤–∞",
        "–°–∞–ª–∞–º",
        "–ü—Ä–∏–≤–µ—Ç–∏–∫–∏",
        "–•–µ–ª–ª–æ",
        "–ô–æ",
        "–ó–¥–æ—Ä–æ–≤",
        "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é",
        "–ö—É",
        "–ó–¥—Ä–∞—Å—Ç–µ",
        "–ü—Ä–∏–≤–∫–∏",
    ],
    "aggressive": [
        "–≠–π!",
        "–ê–ª–ª–æ!",
        "–°–ª—É—à–∞–π—Ç–µ!",
        "–¢–∞–∫!",
        "–ê—É!",
        "–ï—Å—Ç—å –∫—Ç–æ?!",
        "–û—Ç–≤–µ—á–∞–π—Ç–µ!",
        "–ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å!",
        "–°–†–û–ß–ù–û!",
        "–ö—Ç–æ-–Ω–∏–±—É–¥—å!",
    ],
    "silent": [
        ".",
        "–î–∞",
        "–ù—É",
        "?",
        "–ê–≥–∞",
        "–ú–º",
    ],
    "techie": [
        "Hi!",
        "Hello",
        "–ü—Ä–∏–≤–µ—Ç, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –≤–æ–ø—Ä–æ—Å –ø–æ API",
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –Ω—É–∂–Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è",
    ],
    "newbie": [
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è –Ω–æ–≤–∏—á–æ–∫",
        "–ü—Ä–∏–≤–µ—Ç, —Å–æ–≤—Å–µ–º –Ω–µ —Ä–∞–∑–±–∏—Ä–∞—é—Å—å",
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –ø–æ–º–æ–≥–∏—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ø–µ—Ä–≤—ã–π —Ä–∞–∑ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Å—å",
        "–ü—Ä–∏–≤–µ—Ç, –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–Ω–∏–º–∞—é –≤ —ç—Ç–æ–º",
    ],
    "price_focused": [
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Å—Ä–∞–∑—É –∫ –¥–µ–ª—É - —Ü–µ–Ω—ã",
        "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å",
        "–ü—Ä–∏–≤–µ—Ç, –ø–æ—á—ë–º?",
        "–¶–µ–Ω—ã –∫–∞–∫–∏–µ?",
    ],
}

# –ü—Ä–æ—â–∞–Ω–∏—è/—Å–æ–≥–ª–∞—Å–∏—è –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–º (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
AGREEMENTS = {
    "formal": [
        "–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º",
        "–°–æ–≥–ª–∞—Å–µ–Ω, –æ—Å—Ç–∞–≤–ª—é –∑–∞—è–≤–∫—É",
        "–î–∞, –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ",
        "–û—Ç–ª–∏—á–Ω–æ, –∫–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å?",
        "–î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å, –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º",
        "–ü—Ä–∏–Ω–∏–º–∞—é –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ",
        "–î–∞, –º–µ–Ω—è –≤—Å—ë —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç",
        "–•–æ—Ä–æ—à–æ, —è —Å–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è",
        "–û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω—ë–º",
        "–î–∞, —ç—Ç–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ",
        "–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ, –æ—Ñ–æ—Ä–º–ª—è–µ–º",
    ],
    "casual": [
        "–û–∫, –ø–æ–≥–Ω–∞–ª–∏",
        "–î–∞–≤–∞–π",
        "–ù—É –æ–∫",
        "–ì–æ",
        "–õ–∞–Ω, –±–µ—Ä—É",
        "–ß—ë—Ç–∫–æ, –¥–∞–≤–∞–π",
        "–ó–∞—à–∏–±–∏—Å—å, –±–µ—Ä—ë–º",
        "–°—É–ø–µ—Ä, –ø–æ–µ—Ö–∞–ª–∏",
        "–ù–æ—Ä–º, –ø–æ–≥–Ω–∞–ª–∏",
        "–ê–π–¥–∞",
        "–ù—É –¥–∞–≤–∞–π, –ø–æ–ø—Ä–æ–±—É–µ–º",
        "–û–∫–µ–π, –∫–∞—Ç–∏—Ç",
        "–ì—É–¥, —Å–æ–≥–ª–∞—Å–µ–Ω",
    ],
    "aggressive": [
        "–õ–∞–¥–Ω–æ, –¥–∞–≤–∞–π—Ç–µ –±—ã—Å—Ç—Ä–µ–µ",
        "–•–æ—Ä–æ—à–æ, —Ç–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ!",
        "–û–∫–µ–π, –æ—Ñ–æ—Ä–º–ª—è–π—Ç–µ",
        "–ù—É –≤—Å—ë, –¥–µ–ª–∞–µ–º!",
        "–î–∞–≤–∞–π—Ç–µ —É–∂–µ!",
        "–•–≤–∞—Ç–∏—Ç –±–æ–ª—Ç–∞—Ç—å, –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ!",
        "–û–ö! –ë–ï–†–Å–ú!",
    ],
    "silent": [
        "–î–∞",
        "–û–∫",
        "+",
        "–ê–≥–∞",
        "–£–≥—É",
        "üëç",
        "‚úÖ",
    ],
    "techie": [
        "Ok, let's do it",
        "–°–æ–≥–ª–∞—Å–µ–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é",
        "Done, –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è",
        "Approved, –Ω–∞—á–∏–Ω–∞–µ–º",
        "–û–∫, –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ",
    ],
    "newbie": [
        "–•–æ—Ä–æ—à–æ, –Ω–æ –≤—ã –ø–æ–º–æ–∂–µ—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è?",
        "–õ–∞–¥–Ω–æ, –ø–æ–ø—Ä–æ–±—É—é, –Ω–∞—É—á–∏—Ç–µ?",
        "–î–∞, —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞–∫",
        "–°–æ–≥–ª–∞—Å–µ–Ω, –Ω–∞–¥–µ—é—Å—å —Ä–∞–∑–±–µ—Ä—É—Å—å",
    ],
    "price_focused": [
        "–¶–µ–Ω–∞ –Ω–æ—Ä–º, –±–µ—Ä—ë–º",
        "–û–∫, –∑–∞ —ç—Ç—É —Ü–µ–Ω—É —Å–æ–≥–ª–∞—Å–µ–Ω",
        "–î–∞–≤–∞–π—Ç–µ, –µ—Å–ª–∏ —Å–∫–∏–¥–∫—É –¥–∞–¥–∏—Ç–µ",
        "–ü–æ –¥–µ–Ω—å–≥–∞–º —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç, –æ—Ñ–æ—Ä–º–ª—è–µ–º",
    ],
}

# –û—Ç–∫–∞–∑—ã –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–º (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
REJECTIONS = {
    "formal": [
        "–°–ø–∞—Å–∏–±–æ, –Ω–æ –ø–æ–∫–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ",
        "–Ø –ø–æ–¥—É–º–∞—é, —Å–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é",
        "–ù–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ",
        "–ë–ª–∞–≥–æ–¥–∞—Ä—é, –Ω–æ –º—ã —É–∂–µ –≤—ã–±—Ä–∞–ª–∏ –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ",
        "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç",
        "–°–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –Ω–æ –Ω–µ—Ç",
        "–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–∑–∂–µ",
        "–ü–æ–∫–∞ –≤–æ–∑–¥–µ—Ä–∂–∏–º—Å—è",
    ],
    "casual": [
        "–ù–µ, –ø–∞—Å",
        "–ù–µ–∞",
        "–ù–µ –Ω–∞–¥–æ",
        "–ù–µ –∫–∞—Ç–∏—Ç",
        "–ù–µ, —Å–ø–∞—Å–∏–±–æ",
        "–ü–∞—Å",
        "–ù–µ –º–æ—ë",
        "–ù–µ –∑–∞—à–ª–æ",
        "–ù–µ–µ–µ",
        "–ü–æ–∫–∞ –Ω–µ—Ç",
        "–ù–µ —Å–µ–≥–æ–¥–Ω—è",
    ],
    "aggressive": [
        "–ù–µ—Ç! –î–æ—Ä–æ–≥–æ!",
        "–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!",
        "–û—Ç—Å—Ç–∞–Ω—å—Ç–µ",
        "–ù–ï–¢!",
        "–•–≤–∞—Ç–∏—Ç!",
        "–ù–µ –Ω–∞–≤—è–∑—ã–≤–∞–π—Ç–µ!",
        "–£–∂–µ —Å–∫–∞–∑–∞–ª –ù–ï–¢!",
        "–ù–∞–¥–æ–µ–ª–∏!",
    ],
    "silent": [
        "–ù–µ—Ç",
        "-",
        "–ù–µ",
        "üëé",
        "‚ùå",
        "–ù–µ–∞",
    ],
    "techie": [
        "Not interested",
        "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç",
        "–ù–µ—Ç, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ —Ç–∞",
        "Pass, –Ω—É–∂–Ω–æ –¥—Ä—É–≥–æ–µ",
    ],
    "newbie": [
        "–°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è –º–µ–Ω—è",
        "–ù–µ —Ä–∞–∑–æ–±—Ä–∞–ª—Å—è, –Ω–µ –Ω–∞–¥–æ",
        "–ë–æ—é—Å—å –Ω–µ —Å–ø—Ä–∞–≤–ª—é—Å—å",
        "–ú–æ–∂–µ—Ç –ø–æ—Ç–æ–º, –∫–æ–≥–¥–∞ –ø–æ–π–º—É –ª—É—á—à–µ",
    ],
    "price_focused": [
        "–î–æ—Ä–æ–≥–æ, –Ω–µ—Ç",
        "–ó–∞ —Ç–∞–∫–∏–µ –¥–µ–Ω—å–≥–∏ - –Ω–µ—Ç",
        "–¶–µ–Ω–∞ –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç",
        "–°–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ –¥–ª—è –Ω–∞—Å",
    ],
}


# =============================================================================
# –¢–ï–ú–´ –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò
# =============================================================================

@dataclass
class TopicTemplate:
    """–®–∞–±–ª–æ–Ω —Ç–µ–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤"""
    topic: str
    category: str
    questions: List[str]
    expected_keywords: List[str]
    follow_ups: List[str] = field(default_factory=list)


TOPIC_TEMPLATES = [
    # =========================================================================
    # –¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–ï
    # =========================================================================
    TopicTemplate(
        topic="tariffs",
        category="pricing",
        questions=[
            "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç {product}?",
            "–ö–∞–∫–∞—è —Ü–µ–Ω–∞ –Ω–∞ {product}?",
            "–ü—Ä–∞–π—Å –Ω–∞ {product}",
            "–¢–∞—Ä–∏—Ñ—ã –∫–∞–∫–∏–µ?",
            "–ü–æ—á—ë–º {product}?",
            "–¶–µ–Ω–∞?",
            "–ö–∞–∫–æ–π —Ü–µ–Ω–Ω–∏–∫ –Ω–∞ {product}?",
            "–í–æ —Å–∫–æ–ª—å–∫–æ –æ–±–æ–π–¥—ë—Ç—Å—è {product}?",
            "–†–∞—Å—Ü–µ–Ω–∫–∏ –Ω–∞ {product}?",
            "–ü—Ä–∞–π—Å-–ª–∏—Å—Ç —Å–∫–∏–Ω—å—Ç–µ",
            "–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è?",
            "–°–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–∏—Ç—å –≤ –º–µ—Å—è—Ü?",
            "–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–ª–∞—Ç–∞ –∫–∞–∫–∞—è?",
            "–ê–±–æ–Ω–µ–Ω—Ç–∫–∞ —Å–∫–æ–ª—å–∫–æ?",
        ],
        expected_keywords=["—Ç–∞—Ä–∏—Ñ", "Mini", "Lite"],
        follow_ups=[]  # –£–±—Ä–∞–Ω—ã - —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–µ
    ),
    TopicTemplate(
        topic="free",
        category="pricing",
        questions=[
            "–ï—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è?",
            "–ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ?",
            "–¢—Ä–∏–∞–ª –µ—Å—Ç—å?",
            "–î–µ–º–æ –º–æ–∂–Ω–æ?",
            "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ —á—Ç–æ-—Ç–æ –µ—Å—Ç—å?",
            "Free –≤–µ—Ä—Å–∏—è –µ—Å—Ç—å?",
            "–ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–∞—ë—Ç–µ?",
            "–¢–µ—Å—Ç–æ–≤—ã–π –¥–æ—Å—Ç—É–ø –µ—Å—Ç—å?",
            "–ë–µ–∑ –æ–ø–ª–∞—Ç—ã –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?",
            "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –µ—Å—Ç—å?",
            "–ú–æ–∂–Ω–æ –ø–æ—Ç–µ—Å—Ç–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ?",
        ],
        expected_keywords=["–±–µ—Å–ø–ª–∞—Ç–Ω"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ü–†–û–î–£–ö–¢–´
    # =========================================================================
    TopicTemplate(
        topic="wipon_kassa",
        category="products",
        questions=[
            "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∫–∞—Å—Å—É",
            "–ù—É–∂–Ω–∞ –æ–Ω–ª–∞–π–Ω-–∫–∞—Å—Å–∞",
            "–ö–∞–∫ –ø—Ä–æ–±–∏–≤–∞—Ç—å —á–µ–∫–∏?",
            "–û–§–î –ø–æ–¥–∫–ª—é—á–µ–Ω?",
            "–ö–∞—Å—Å–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –µ—Å—Ç—å?",
            "–ö–∞—Å—Å–æ–≤—ã–π –∞–ø–ø–∞—Ä–∞—Ç –Ω—É–∂–µ–Ω –∏–ª–∏ –Ω–µ—Ç?",
            "–§–∏—Å–∫–∞–ª—å–Ω—ã–π —á–µ–∫ –ø–µ—á–∞—Ç–∞–µ—Ç–µ?",
            "–ö–ö–ú –≤–∞—à–∞ –∏–ª–∏ —Å–≤–æ—è?",
            "–ß–µ–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –Ω–∞–ª–æ–≥–æ–≤—É—é?",
            "POS-—Ç–µ—Ä–º–∏–Ω–∞–ª —É –≤–∞—Å –µ—Å—Ç—å?",
            "–û–Ω–ª–∞–π–Ω –ö–ö–ú —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–§–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è –µ—Å—Ç—å?",
        ],
        expected_keywords=["–∫–∞—Å—Å", "–û–§–î"],
        follow_ups=[]
    ),
    TopicTemplate(
        topic="wipon_pro",
        category="products",
        questions=[
            "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–ª–∫–æ–≥–æ–ª—å?",
            "–£–ö–ú –º–∞—Ä–∫–∏ –∫–∞–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å?",
            "–ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–∫–æ–≥–æ–ª—å–Ω—ã—Ö –º–∞—Ä–æ–∫",
            "Wipon Pro —á—Ç–æ —ç—Ç–æ?",
            "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ü–∏–∑–Ω—ã—Ö –º–∞—Ä–æ–∫ –µ—Å—Ç—å?",
            "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä–æ–∫ –∞–ª–∫–æ–≥–æ–ª—è",
            "–ê–ª–∫–æ–º–∞—Ä–∫–µ—Ç —É –º–µ–Ω—è, —á—Ç–æ –ø–æ–¥–æ–π–¥—ë—Ç?",
            "–î–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∞–ª–∫–æ–≥–æ–ª—è —á—Ç–æ –Ω—É–∂–Ω–æ?",
            "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Ñ–∞–∫—Ç –µ—Å—Ç—å?",
            "–ú–∞—Ä–∫–∏ –Ω–∞ —Å–ø–∏—Ä—Ç–Ω–æ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ?",
        ],
        expected_keywords=["–∞–ª–∫–æ–≥–æ–ª—å", "–£–ö–ú", "Pro"],
        follow_ups=[]
    ),
    TopicTemplate(
        topic="overview",
        category="products",
        questions=[
            "–ß—Ç–æ —ç—Ç–æ –∑–∞ —Å–∏—Å—Ç–µ–º–∞?",
            "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –ø—Ä–æ–¥—É–∫—Ç–µ",
            "–ß—Ç–æ —Ç–∞–∫–æ–µ Wipon?",
            "–ö–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ?",
            "–ß—Ç–æ —É–º–µ–µ—Ç –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞?",
            "–î–ª—è —á–µ–≥–æ —ç—Ç–æ –Ω—É–∂–Ω–æ?",
            "–í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö - —á—Ç–æ —ç—Ç–æ?",
            "–ö–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª?",
        ],
        expected_keywords=["Wipon", "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏"],
        follow_ups=[]
    ),
    TopicTemplate(
        topic="mobile_app",
        category="products",
        questions=[
            "–ï—Å—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?",
            "–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è iOS –µ—Å—Ç—å?",
            "Android –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è?",
            "–° —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å?",
            "–°–º–∞—Ä—Ç—Ñ–æ–Ω –ø–æ–¥–æ–π–¥—ë—Ç?",
            "–ù–∞ –∞–π—Ñ–æ–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –µ—Å—Ç—å?",
        ],
        expected_keywords=["–º–æ–±–∏–ª—å–Ω", "—Ç–µ–ª–µ—Ñ–æ–Ω", "–ø—Ä–∏–ª–æ–∂–µ–Ω", "—Å–º–∞—Ä—Ç—Ñ–æ–Ω"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ò–ù–¢–ï–ì–†–ê–¶–ò–ò
    # =========================================================================
    TopicTemplate(
        topic="marketplaces",
        category="integrations",
        questions=[
            "–†–∞–±–æ—Ç–∞–µ—Ç–µ —Å Kaspi?",
            "–ï—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏?",
            "–ö–∞—Å–ø–∏ –º–∞–≥–∞–∑–∏–Ω –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è?",
            "–•–∞–ª—ã–∫ –±–∞–Ω–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "Kaspi Shop –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è?",
            "–ö–∞—Å–ø–∏ QR –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ?",
            "Halyk QR –µ—Å—Ç—å?",
            "–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Kaspi —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–∞—Å–ø–∏?",
            "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç–µ?",
        ],
        expected_keywords=["Kaspi", "Halyk", "–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å", "–ö–∞—Å–ø–∏"],
        follow_ups=[]
    ),
    TopicTemplate(
        topic="1c",
        category="integrations",
        questions=[
            "–ï—Å—Ç—å –≤—ã–≥—Ä—É–∑–∫–∞ –≤ 1–°?",
            "1–° –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è?",
            "–î–∞–Ω–Ω—ã–µ –≤ 1–° –∫–∞–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å?",
            "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° –µ—Å—Ç—å?",
            "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å 1–°?",
            "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è 1–° —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–≠–∫—Å–ø–æ—Ä—Ç –≤ 1–° –µ—Å—Ç—å?",
        ],
        expected_keywords=["1–°", "–≤—ã–≥—Ä—É–∑–∫", "–∏–Ω—Ç–µ–≥—Ä–∞—Ü"],
        follow_ups=[]
    ),

    # =========================================================================
    # –û–ë–û–†–£–î–û–í–ê–ù–ò–ï
    # =========================================================================
    TopicTemplate(
        topic="hardware",
        category="equipment",
        questions=[
            "–ö–∞–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω—É–∂–Ω–æ?",
            "–°–∫–∞–Ω–µ—Ä –∫–∞–∫–æ–π –ø–æ–¥–æ–π–¥—ë—Ç?",
            "–ü—Ä–∏–Ω—Ç–µ—Ä —á–µ–∫–æ–≤ —Å–æ–≤–º–µ—Å—Ç–∏–º?",
            "–í–µ—Å—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è?",
            "–ö–∞–∫–æ–π —Å–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤ –∫—É–ø–∏—Ç—å?",
            "–¢–µ—Ä–º–æ–ø—Ä–∏–Ω—Ç–µ—Ä –Ω—É–∂–µ–Ω –∫–∞–∫–æ–π?",
            "–ö–∞–∫–æ–µ –∂–µ–ª–µ–∑–æ –Ω—É–∂–Ω–æ?",
            "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É?",
            "2D —Å–∫–∞–Ω–µ—Ä –Ω—É–∂–µ–Ω?",
        ],
        expected_keywords=["—Å–∫–∞–Ω–µ—Ä", "–ø—Ä–∏–Ω—Ç–µ—Ä", "–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω", "–≤–µ—Å—ã", "USB"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ì–ï–û–ì–†–ê–§–ò–Ø
    # =========================================================================
    TopicTemplate(
        topic="coverage",
        category="regions",
        questions=[
            "–†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –ê–ª–º–∞—Ç—ã?",
            "–†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –ê—Å—Ç–∞–Ω–µ?",
            "–†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –ö–∞—Ä–∞–≥–∞–Ω–¥–µ?",
            "–ü–æ –≤—Å–µ–º—É –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?",
            "–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ –≤ —Ä–µ–≥–∏–æ–Ω—ã?",
            "–í –æ–±–ª–∞—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?",
            "–ü–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?",
        ],
        expected_keywords=["–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", "–ê–ª–º–∞—Ç—ã", "–¥–æ—Å—Ç–∞–≤–∫", "–≥–æ—Ä–æ–¥"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ü–û–î–î–ï–†–ñ–ö–ê
    # =========================================================================
    TopicTemplate(
        topic="help",
        category="support",
        questions=[
            "–ï—Å—Ç—å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞?",
            "–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ?",
            "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å?",
            "–°–∞–ø–ø–æ—Ä—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?",
            "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7?",
            "–ö—É–¥–∞ –∑–≤–æ–Ω–∏—Ç—å –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞?",
            "–ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –µ—Å—Ç—å?",
            "–ù–∞—É—á–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?",
        ],
        expected_keywords=["–ø–æ–¥–¥–µ—Ä–∂–∫", "–æ–±—É—á–µ–Ω", "–ø–æ–º–æ—â—å"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ú–ò–ì–†–ê–¶–ò–Ø
    # =========================================================================
    TopicTemplate(
        topic="switching",
        category="migration",
        questions=[
            "–î–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏?",
            "–ò–º–ø–æ—Ä—Ç –∏–∑ Excel –µ—Å—Ç—å?",
            "–ö–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ —Å –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã?",
            "–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –±–∞–∑—É —Ç–æ–≤–∞—Ä–æ–≤ –º–æ–∂–Ω–æ?",
            "–û—Å—Ç–∞—Ç–∫–∏ –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å?",
            "–ò–º–ø–æ—Ä—Ç –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã –µ—Å—Ç—å?",
            "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥?",
            "–ü–æ–º–æ–≥–∞–µ—Ç–µ —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º?",
        ],
        expected_keywords=["–ø–µ—Ä–µ–Ω–æ—Å", "–∏–º–ø–æ—Ä—Ç", "–ø–µ—Ä–µ—Ö–æ–¥", "Excel"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
    # =========================================================================
    TopicTemplate(
        topic="data_protection",
        category="security",
        questions=[
            "–î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã?",
            "–ë—ç–∫–∞–ø—ã –¥–µ–ª–∞–µ—Ç–µ?",
            "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å?",
            "–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?",
            "–°–µ—Ä–≤–µ—Ä—ã –Ω–∞–¥—ë–∂–Ω—ã–µ?",
            "–î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è?",
            "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å?",
            "–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–∑–ª–æ–º–∞?",
        ],
        expected_keywords=["–∑–∞—â–∏—Ç", "–±—ç–∫–∞–ø", "—à–∏—Ñ—Ä–æ–≤–∞–Ω", "—Ä–µ–∑–µ—Ä–≤"],
        follow_ups=[]
    ),

    # =========================================================================
    # –ö–û–ù–ö–£–†–ï–ù–¢–´
    # =========================================================================
    TopicTemplate(
        topic="vs_others",
        category="competitors",
        questions=[
            "–ß–µ–º –ª—É—á—à–µ iiko?",
            "–ü–æ—á–µ–º—É –Ω–µ Poster?",
            "–í —á—ë–º –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤?",
            "–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç–µ—Å—å –æ—Ç 1–°?",
            "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ iiko?",
            "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Poster?",
        ],
        expected_keywords=["iiko", "Poster", "–¥–µ—à–µ–≤–ª–µ", "–ø—Ä–æ—â–µ", "1–°"],
        follow_ups=[]
    ),
]

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
PRODUCTS = [
    "–ø—Ä–æ–≥—Ä–∞–º–º—É", "—Å–∏—Å—Ç–µ–º—É", "–∫–∞—Å—Å—É", "—É—á—ë—Ç", "Wipon", "–ø–æ–¥–ø–∏—Å–∫—É",
    "—Å–µ—Ä–≤–∏—Å", "—Ä–µ—à–µ–Ω–∏–µ", "–≤–∞—à –ø—Ä–æ–¥—É–∫—Ç", "–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "—Å–æ—Ñ—Ç",
    "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é", "POS-—Å–∏—Å—Ç–µ–º—É", "—Ç–æ–≤–∞—Ä–æ—É—á—ë—Ç",
]

CITIES = [
    "–ê–ª–º–∞—Ç—ã", "–ê—Å—Ç–∞–Ω–µ", "–ö–∞—Ä–∞–≥–∞–Ω–¥–µ", "–®—ã–º–∫–µ–Ω—Ç–µ", "–ê–∫—Ç–æ–±–µ", "—Ä–µ–≥–∏–æ–Ω–∞—Ö",
    "–ù—É—Ä-–°—É–ª—Ç–∞–Ω–µ", "–ê—Ç—ã—Ä–∞—É", "–ê–∫—Ç–∞—É", "–ü–∞–≤–ª–æ–¥–∞—Ä–µ", "–°–µ–º–µ–µ",
    "–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫–µ", "–ö–æ—Å—Ç–∞–Ω–∞–µ", "–¢–∞—Ä–∞–∑–µ", "–ö—ã–∑—ã–ª–æ—Ä–¥–µ", "–£—Ä–∞–ª—å—Å–∫–µ",
    "–¢–µ–º–∏—Ä—Ç–∞—É", "–≠–∫–∏–±–∞—Å—Ç—É–∑–µ", "–æ–±–ª–∞—Å—Ç–∏",
]

COMPETITORS = [
    "1–°", "iiko", "Poster", "R-Keeper", "Excel",
]

BUSINESS_TYPES = [
    "–º–∞–≥–∞–∑–∏–Ω –ø—Ä–æ–¥—É–∫—Ç–æ–≤", "–∞–ø—Ç–µ–∫—É", "—Ä–µ—Å—Ç–æ—Ä–∞–Ω", "–∫–∞—Ñ–µ", "–∞–ª–∫–æ–º–∞—Ä–∫–µ—Ç", "–æ–ø—Ç–æ–≤—ã–π —Å–∫–ª–∞–¥",
    "—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", "–º–∏–Ω–∏–º–∞—Ä–∫–µ—Ç", "–±—É—Ç–∏–∫", "–º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã", "–º–∞–≥–∞–∑–∏–Ω —Ç–µ—Ö–Ω–∏–∫–∏",
    "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω", "–∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏", "—Ü–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω", "–ø–µ–∫–∞—Ä–Ω—é",
    "–∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫—É—é", "—Ñ–∞—Å—Ç-—Ñ—É–¥", "—Å—Ç–æ–ª–æ–≤—É—é", "–±–∞—Ä", "–∫–æ—Ñ–µ–π–Ω—é",
    "–º–∞–≥–∞–∑–∏–Ω –∫–æ—Å–º–µ—Ç–∏–∫–∏", "–∑–æ–æ–º–∞–≥–∞–∑–∏–Ω", "–∫–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã", "–∫–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω",
    "—é–≤–µ–ª–∏—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω", "–º–∞–≥–∞–∑–∏–Ω –¥–µ—Ç—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤", "—Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω",
    "—Ç–∞–±–∞—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω", "–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏", "—Ö–æ–∑—Ç–æ–≤–∞—Ä—ã",
]

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
PAIN_POINTS = [
    "–ø–æ—Ç–µ—Ä–∏ —Ç–æ–≤–∞—Ä–∞", "–≤–æ—Ä–æ–≤—Å—Ç–≤–æ", "–æ—à–∏–±–∫–∏ –≤ —É—á—ë—Ç–µ", "–Ω–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤",
    "–Ω–µ –∑–Ω–∞—é –æ—Å—Ç–∞—Ç–∫–∏", "–¥–æ–ª–≥–∞—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è", "—Ä—É—á–Ω–æ–π —É—á—ë—Ç –≤ —Ç–µ—Ç—Ä–∞–¥–∏",
    "Excel –≥–ª—é—á–∏—Ç", "–±—É—Ö–≥–∞–ª—Ç–µ—Ä —Ä—É–≥–∞–µ—Ç—Å—è", "—à—Ç—Ä–∞—Ñ—ã –∑–∞ –∫–∞—Å—Å—É",
    "–∫–ª–∏–µ–Ω—Ç—ã –∂–∞–ª—É—é—Ç—Å—è –Ω–∞ –æ—á–µ—Ä–µ–¥–∏", "–Ω–µ –≤–∏–∂—É –ø—Ä–∏–±—ã–ª—å",
]

URGENCY_MODIFIERS = [
    "—Å—Ä–æ—á–Ω–æ", "–æ—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ", "–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å", "—Å–µ–≥–æ–¥–Ω—è",
    "–∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ", "asap", "–≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è", "–∑–∞–≤—Ç—Ä–∞",
]

TIME_PERIODS = [
    "–≤ –º–µ—Å—è—Ü", "–≤ –≥–æ–¥", "–∑–∞ –∫–≤–∞—Ä—Ç–∞–ª", "–µ–∂–µ–º–µ—Å—è—á–Ω–æ", "–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ",
    "–ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏", "—Ä–∞–∑–æ–≤–æ", "–∑–∞ —Ç–æ—á–∫—É",
]


# =============================================================================
# –ì–ï–ù–ï–†–ê–¢–û–† –í–ê–†–ò–ê–¶–ò–ô
# =============================================================================

class MessageVariator:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∞—Ä–∏–∞—Ü–∏–π —Å–æ–æ–±—â–µ–Ω–∏–π"""

    def __init__(self, seed: int = None):
        if seed is not None:
            random.seed(seed)

    def apply_typos(self, text: str, probability: float = 0.3) -> str:
        """–î–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏"""
        if random.random() > probability:
            return text

        words = text.split()
        for i, word in enumerate(words):
            word_lower = word.lower()
            if word_lower in TYPOS and random.random() < 0.5:
                typo = random.choice(TYPOS[word_lower])
                # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–≥–∏—Å—Ç—Ä –ø–µ—Ä–≤–æ–π –±—É–∫–≤—ã
                if word[0].isupper():
                    typo = typo.capitalize()
                words[i] = typo
        return " ".join(words)

    def apply_synonyms(self, text: str, probability: float = 0.4) -> str:
        """–ó–∞–º–µ–Ω–∏—Ç—å —Å–ª–æ–≤–∞ –Ω–∞ —Å–∏–Ω–æ–Ω–∏–º—ã"""
        if random.random() > probability:
            return text

        result = text
        for word, syns in SYNONYMS.items():
            if word in result.lower() and random.random() < 0.5:
                syn = random.choice(syns)
                # –ó–∞–º–µ–Ω—è–µ–º —Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞
                pattern = re.compile(re.escape(word), re.IGNORECASE)
                result = pattern.sub(syn, result, count=1)
        return result

    def apply_slang(self, text: str, probability: float = 0.2) -> str:
        """–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–ª–µ–Ω–≥"""
        if random.random() > probability:
            return text

        result = text
        for word, slangs in SLANG.items():
            if word in result.lower() and random.random() < 0.5:
                slang = random.choice(slangs)
                pattern = re.compile(re.escape(word), re.IGNORECASE)
                result = pattern.sub(slang, result, count=1)
        return result

    def apply_emotions(self, text: str, probability: float = 0.3) -> str:
        """–î–æ–±–∞–≤–∏—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã"""
        if random.random() > probability:
            return text

        prefix = random.choice(EMOTIONAL_PREFIX)
        suffix = random.choice(EMOTIONAL_SUFFIX)
        return f"{prefix}{text}{suffix}"

    def change_case(self, text: str, probability: float = 0.2) -> str:
        """–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä"""
        if random.random() > probability:
            return text

        choice = random.choice(["lower", "upper", "normal"])
        if choice == "lower":
            return text.lower()
        elif choice == "upper":
            return text.upper()
        return text

    def shuffle_words(self, text: str, probability: float = 0.1) -> str:
        """–ü–µ—Ä–µ–º–µ—à–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ)"""
        if random.random() > probability or len(text.split()) < 3:
            return text

        words = text.split()
        # –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å–ª–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–º—ã—Å–ª
        if len(words) > 2:
            mid = words[1:-1]
            random.shuffle(mid)
            words = [words[0]] + mid + [words[-1]]
        return " ".join(words)

    def generate_variation(self, text: str, persona: str = "casual") -> str:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏—è"""
        result = text

        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –ø–µ—Ä—Å–æ–Ω–µ
        if persona == "formal":
            result = self.apply_synonyms(result, 0.2)
        elif persona == "casual":
            result = self.apply_typos(result, 0.3)
            result = self.apply_slang(result, 0.3)
            result = self.change_case(result, 0.3)
        elif persona == "aggressive":
            result = self.apply_emotions(result, 0.6)
            result = self.change_case(result, 0.3)
        elif persona == "techie":
            result = self.apply_synonyms(result, 0.3)
            # –ò–Ω–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
            if random.random() < 0.3:
                result = result.replace("–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", "integration")
                result = result.replace("–ø–æ–¥–¥–µ—Ä–∂–∫–∞", "support")
        elif persona == "newbie":
            result = self.apply_typos(result, 0.2)
            result = self.apply_emotions(result, 0.4)
        elif persona == "silent":
            # –£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–ª–æ–≤–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
            words = result.split()
            if len(words) > 3:
                result = " ".join(words[:random.randint(2, 3)])
        elif persona == "price_focused":
            # –§–æ–∫—É—Å –Ω–∞ —Ü–µ–Ω–µ - –¥–æ–±–∞–≤–ª—è–µ–º —Ü–µ–Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞
            result = self.apply_synonyms(result, 0.4)
            if random.random() < 0.3:
                result = result + " –∑–∞ " + random.choice(TIME_PERIODS)
        elif persona == "confused":
            # –†–∞—Å—Ç–µ—Ä—è–Ω–Ω—ã–π - –¥–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            result = self.apply_emotions(result, 0.5)
            result = self.apply_typos(result, 0.2)
            if random.random() < 0.3 and not result.endswith("?"):
                result = result + "?"
        elif persona == "skeptic":
            # –°–∫–µ–ø—Ç–∏–∫ - –¥–æ–±–∞–≤–ª—è–µ–º —Å–æ–º–Ω–µ–Ω–∏—è
            skeptic_prefixes = ["–ê —Ç–æ—á–Ω–æ ", "–ü—Ä–∞–≤–¥–∞ –ª–∏ —á—Ç–æ ", "–°–æ–º–Ω–µ–≤–∞—é—Å—å —á—Ç–æ ", "–ù–µ —É–≤–µ—Ä–µ–Ω —á—Ç–æ "]
            if random.random() < 0.3:
                result = random.choice(skeptic_prefixes) + result.lower()
        else:
            result = self.apply_typos(result, 0.2)
            result = self.apply_synonyms(result, 0.3)

        return result


# =============================================================================
# –ì–ï–ù–ï–†–ê–¢–û–† –°–¶–ï–ù–ê–†–ò–ï–í
# =============================================================================

@dataclass
class GeneratedTurn:
    """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–æ–¥ –¥–∏–∞–ª–æ–≥–∞"""
    user_message: str
    original_message: str
    expected_topic: str
    expected_keywords: List[str]


@dataclass
class GeneratedScenario:
    """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π"""
    name: str
    persona: str
    business_type: str
    turns: List[GeneratedTurn]


class ScenarioGenerator:
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤"""

    def __init__(self, seed: int = None):
        self.variator = MessageVariator(seed)
        if seed is not None:
            random.seed(seed)

    # –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω—ã
    ALL_PERSONAS = [
        "formal", "casual", "aggressive", "techie", "newbie", "silent",
        "price_focused", "confused", "skeptic"
    ]

    def generate_scenario(self, persona: str = None, topics: List[str] = None) -> GeneratedScenario:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π"""
        # –°–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä—Å–æ–Ω–∞ –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞
        if persona is None:
            persona = random.choice(self.ALL_PERSONAS)

        # –°–ª—É—á–∞–π–Ω—ã–π —Ç–∏–ø –±–∏–∑–Ω–µ—Å–∞
        business_type = random.choice(BUSINESS_TYPES)

        # –°–ª—É—á–∞–π–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ–º –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω
        if topics is None:
            num_topics = random.randint(2, 5)
            topics = random.sample([t.topic for t in TOPIC_TEMPLATES], num_topics)

        turns = []

        # 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (50% —à–∞–Ω—Å)
        if random.random() < 0.5:
            greeting = random.choice(GREETINGS.get(persona, GREETINGS["casual"]))
            turns.append(GeneratedTurn(
                user_message=self.variator.generate_variation(greeting, persona),
                original_message=greeting,
                expected_topic="greeting",
                expected_keywords=[]
            ))

        # 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–∞–º
        for topic_name in topics:
            template = next((t for t in TOPIC_TEMPLATES if t.topic == topic_name), None)
            if not template:
                continue

            # –û—Å–Ω–æ–≤–Ω–æ–π –≤–æ–ø—Ä–æ—Å
            question = random.choice(template.questions)

            # –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
            question = question.replace("{product}", random.choice(PRODUCTS))
            question = question.replace("{city}", random.choice(CITIES))
            question = question.replace("{competitor}", random.choice(COMPETITORS))

            varied_question = self.variator.generate_variation(question, persona)

            turns.append(GeneratedTurn(
                user_message=varied_question,
                original_message=question,
                expected_topic=template.topic,
                expected_keywords=template.expected_keywords
            ))

            # Follow-up –≤–æ–ø—Ä–æ—Å (30% —à–∞–Ω—Å)
            if template.follow_ups and random.random() < 0.3:
                follow_up = random.choice(template.follow_ups)
                varied_follow_up = self.variator.generate_variation(follow_up, persona)
                turns.append(GeneratedTurn(
                    user_message=varied_follow_up,
                    original_message=follow_up,
                    expected_topic=template.topic,
                    expected_keywords=template.expected_keywords
                ))

        # 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (—Å–æ–≥–ª–∞—Å–∏–µ –∏–ª–∏ –æ—Ç–∫–∞–∑)
        if random.random() < 0.7:
            # –°–æ–≥–ª–∞—Å–∏–µ
            agreement = random.choice(AGREEMENTS.get(persona, AGREEMENTS["casual"]))
            turns.append(GeneratedTurn(
                user_message=self.variator.generate_variation(agreement, persona),
                original_message=agreement,
                expected_topic="agreement",
                expected_keywords=[]
            ))
        else:
            # –û—Ç–∫–∞–∑
            rejection = random.choice(REJECTIONS.get(persona, REJECTIONS["casual"]))
            turns.append(GeneratedTurn(
                user_message=self.variator.generate_variation(rejection, persona),
                original_message=rejection,
                expected_topic="rejection",
                expected_keywords=[]
            ))

        return GeneratedScenario(
            name=f"generated_{persona}_{business_type.replace(' ', '_')}_{random.randint(1000, 9999)}",
            persona=persona,
            business_type=business_type,
            turns=turns
        )

    def generate_batch(self, count: int = 10) -> List[GeneratedScenario]:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—á–∫—É —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤"""
        scenarios = []

        for i in range(count):
            # –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–µ—Ä—Å–æ–Ω—ã —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ
            persona = self.ALL_PERSONAS[i % len(self.ALL_PERSONAS)]
            scenario = self.generate_scenario(persona=persona)
            scenarios.append(scenario)

        return scenarios

    def generate_edge_cases(self) -> List[GeneratedScenario]:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏"""
        edge_cases = []

        # 1. –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        short_scenario = GeneratedScenario(
            name="edge_case_short",
            persona="silent",
            business_type="–º–∞–≥–∞–∑–∏–Ω",
            turns=[
                GeneratedTurn("?", "?", "unknown", []),
                GeneratedTurn("—Ü–µ–Ω–∞", "—Ü–µ–Ω–∞", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
                GeneratedTurn("–¥–∞", "–¥–∞", "agreement", []),
            ]
        )
        edge_cases.append(short_scenario)

        # 2. –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        long_message = """–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —É –º–µ–Ω—è —Ç–∞–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –Ø –≤–ª–∞–¥–µ—é —Å–µ—Ç—å—é –∏–∑ 3 –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        –≤ –ê–ª–º–∞—Ç—ã –∏ –æ–±–ª–∞—Å—Ç–∏. –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é Excel –¥–ª—è —É—á—ë—Ç–∞, –Ω–æ —ç—Ç–æ –æ—á–µ–Ω—å –Ω–µ—É–¥–æ–±–Ω–æ,
        –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ, –Ω–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏.
        –ú–Ω–µ –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ç–æ—Ä–∞—è —É–º–µ–µ—Ç: —É—á—ë—Ç —Ç–æ–≤–∞—Ä–æ–≤, –æ–Ω–ª–∞–π–Ω-–∫–∞—Å—Å—É, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Kaspi,
        –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø—Ä–æ–¥–∞–∂, —É—á—ë—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤. –ï—â—ë –≤–∞–∂–Ω–æ —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
        –ë—é–¥–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω, —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —á—Ç–æ-—Ç–æ –Ω–µ–¥–æ—Ä–æ–≥–æ–µ. –ß—Ç–æ –ø–æ—Å–æ–≤–µ—Ç—É–µ—Ç–µ?"""

        long_scenario = GeneratedScenario(
            name="edge_case_long",
            persona="confused",
            business_type="—Å–µ—Ç—å –º–∞–≥–∞–∑–∏–Ω–æ–≤",
            turns=[
                GeneratedTurn(long_message, long_message, "overview", ["Wipon"]),
                GeneratedTurn("–°–∫–æ–ª—å–∫–æ —ç—Ç–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å?", "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
            ]
        )
        edge_cases.append(long_scenario)

        # 3. –¢–æ–ª—å–∫–æ —ç–º–æ–¥–∑–∏ –∏ —Å–∏–º–≤–æ–ª—ã
        emoji_scenario = GeneratedScenario(
            name="edge_case_emoji",
            persona="casual",
            business_type="–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
            turns=[
                GeneratedTurn("üëã", "üëã", "greeting", []),
                GeneratedTurn("üí∞?", "üí∞?", "tariffs", []),
                GeneratedTurn("üëç", "üëç", "agreement", []),
            ]
        )
        edge_cases.append(emoji_scenario)

        # 4. –°–º–µ—à–∞–Ω–Ω—ã–π —è–∑—ã–∫
        mixed_scenario = GeneratedScenario(
            name="edge_case_mixed_lang",
            persona="techie",
            business_type="it –∫–æ–º–ø–∞–Ω–∏—è",
            turns=[
                GeneratedTurn("Hi, –Ω—É–∂–Ω–∞ POS —Å–∏—Å—Ç–µ–º–∞ for retail", "Hi, –Ω—É–∂–Ω–∞ POS —Å–∏—Å—Ç–µ–º–∞", "overview", ["Wipon"]),
                GeneratedTurn("API –µ—Å—Ç—å? REST or GraphQL?", "API –µ—Å—Ç—å?", "common_questions", ["API"]),
                GeneratedTurn("Price list please", "Price list", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
            ]
        )
        edge_cases.append(mixed_scenario)

        # 5. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏
        typo_scenario = GeneratedScenario(
            name="edge_case_typos",
            persona="casual",
            business_type="–º–∞–≥–∞–∑–∏–Ω",
            turns=[
                GeneratedTurn("–ø—Ä–∏–≤ —Å–∫–æ–∫–∞ —Å—Ç–æ–µ—Ç –≤–∞—à–∞ –ø—Ä–∞–≥—Ä–∞–º–∞?", "–ø—Ä–∏–≤–µ—Ç —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
                GeneratedTurn("–∞ –∫–∞—Å–ø—ã –ø–∞–¥–∫–ª—é—á–∏—Ç—å –º–æ–∂–Ω–∞?", "–∞ –∫–∞—Å–ø–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –º–æ–∂–Ω–æ?", "marketplaces", ["Kaspi"]),
                GeneratedTurn("–ª–∞–Ω –±–∏—Ä—ë–º", "–ª–∞–¥–Ω–æ –±–µ—Ä—ë–º", "agreement", []),
            ]
        )
        edge_cases.append(typo_scenario)

        # 6. –ù–µ–≥–∞—Ç–∏–≤ –∏ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è
        negative_scenario = GeneratedScenario(
            name="edge_case_negative",
            persona="aggressive",
            business_type="–º–∞–≥–∞–∑–∏–Ω",
            turns=[
                GeneratedTurn("–£ –í–ê–° –î–û–†–û–ì–û!!!", "–¥–æ—Ä–æ–≥–æ", "objection_price", ["–±–µ—Å–ø–ª–∞—Ç–Ω"]),
                GeneratedTurn("–£ iiko –ª—É—á—à–µ –∏ –¥–µ—à–µ–≤–ª–µ!", "iiko –ª—É—á—à–µ", "vs_others", ["iiko"]),
                GeneratedTurn("–í–∞—à support –æ—Ç—Å—Ç–æ–π", "support –ø–ª–æ—Ö–æ–π", "help", ["–ø–æ–¥–¥–µ—Ä–∂–∫"]),
                GeneratedTurn("–ù–ï–¢ –°–ü–ê–°–ò–ë–û", "–Ω–µ—Ç", "rejection", []),
            ]
        )
        edge_cases.append(negative_scenario)

        # 7. –°–∫–µ–ø—Ç–∏–∫ —Å —Å–æ–º–Ω–µ–Ω–∏—è–º–∏
        skeptic_scenario = GeneratedScenario(
            name="edge_case_skeptic",
            persona="skeptic",
            business_type="—Ä–µ—Å—Ç–æ—Ä–∞–Ω",
            turns=[
                GeneratedTurn("–ê –≤—ã —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ? –ù–µ –º–æ—à–µ–Ω–Ω–∏–∫–∏?", "—Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ", "overview", ["Wipon"]),
                GeneratedTurn("–ê –¥–∞–Ω–Ω—ã–µ –Ω–µ —É–∫—Ä–∞–¥—ë—Ç–µ?", "–¥–∞–Ω–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã", "data_protection", ["–∑–∞—â–∏—Ç"]),
                GeneratedTurn("–°–æ–º–Ω–µ–≤–∞—é—Å—å —á—Ç–æ —ç—Ç–æ –Ω–∞–¥—ë–∂–Ω–æ...", "–Ω–∞–¥—ë–∂–Ω–æ", "data_protection", ["SLA"]),
                GeneratedTurn("–ù—É –ª–∞–¥–Ω–æ, –ø–æ–ø—Ä–æ–±—É—é, –Ω–æ –µ—Å–ª–∏ —á—Ç–æ - –≤–µ—Ä–Ω—É –¥–µ–Ω—å–≥–∏!", "–ø–æ–ø—Ä–æ–±—É—é", "agreement", []),
            ]
        )
        edge_cases.append(skeptic_scenario)

        # 8. –¢–æ–ª—å–∫–æ –ø—Ä–æ —Ü–µ–Ω—É
        price_only_scenario = GeneratedScenario(
            name="edge_case_price_only",
            persona="price_focused",
            business_type="–æ–ø—Ç–æ–≤—ã–π —Å–∫–ª–∞–¥",
            turns=[
                GeneratedTurn("—Ü–µ–Ω–∞?", "—Ü–µ–Ω–∞", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
                GeneratedTurn("–∞ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è?", "–±–µ—Å–ø–ª–∞—Ç–Ω–æ", "free", ["–±–µ—Å–ø–ª–∞—Ç–Ω"]),
                GeneratedTurn("–æ–∫ –∑–∞ —ç—Ç—É —Ü–µ–Ω—É –±–µ—Ä—É", "–±–µ—Ä—É", "agreement", []),
            ]
        )
        edge_cases.append(price_only_scenario)

        # 9. –ù–æ–≤–∏—á–æ–∫-—Ä–∞—Å—Ç–µ—Ä—è—à–∫–∞
        confused_scenario = GeneratedScenario(
            name="edge_case_confused",
            persona="confused",
            business_type="–ø–µ—Ä–≤—ã–π –±–∏–∑–Ω–µ—Å",
            turns=[
                GeneratedTurn("–ø–æ–º–æ–≥–∏—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —è –≤–æ–æ–±—â–µ –Ω–µ –ø–æ–Ω–∏–º–∞—é —á—Ç–æ –Ω—É–∂–Ω–æ", "–Ω–µ –ø–æ–Ω–∏–º–∞—é", "overview", ["Wipon"]),
                GeneratedTurn("–µ—Å—Ç—å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞? –Ω–∞—É—á–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?", "–ø–æ–¥–¥–µ—Ä–∂–∫–∞", "help", ["–ø–æ–¥–¥–µ—Ä–∂–∫"]),
                GeneratedTurn("–ª–∞–¥–Ω–æ, —Ä–∏—Å–∫–Ω—É, –Ω–∞–¥–µ—é—Å—å —Å–ø—Ä–∞–≤–ª—é—Å—å", "—Ä–∏—Å–∫–Ω—É", "agreement", []),
            ]
        )
        edge_cases.append(confused_scenario)

        # 10. –ö–∞–∑–∞—Ö—Å–∫–∏–π/—Ä—É—Å—Å–∫–∏–π –º–∏–∫—Å
        kz_ru_scenario = GeneratedScenario(
            name="edge_case_kz_ru",
            persona="casual",
            business_type="–º–∞–≥–∞–∑–∏–Ω",
            turns=[
                GeneratedTurn("–°–∞–ª–µ–º! –ü—Ä–∞–π—Å “õ–∞–Ω—à–∞?", "–°–∞–ª–µ–º –ø—Ä–∞–π—Å", "tariffs", ["—Ç–∞—Ä–∏—Ñ"]),
                GeneratedTurn("–ö–∞—Å–ø–∏“ì–∞ “õ–æ—Å—É“ì–∞ –±–æ–ª–∞–¥—ã –º–∞?", "–ö–∞—Å–ø–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å", "marketplaces", ["Kaspi"]),
                GeneratedTurn("–ñ–∞“õ—Å—ã, –∞–ª–∞–º", "—Ö–æ—Ä–æ—à–æ –±–µ—Ä—É", "agreement", []),
            ]
        )
        edge_cases.append(kz_ru_scenario)

        # 11. –ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–π —Ç–µ—Ö–Ω–∏–∫
        verbose_techie_scenario = GeneratedScenario(
            name="edge_case_verbose_techie",
            persona="techie",
            business_type="IT –∫–æ–º–ø–∞–Ω–∏—è",
            turns=[
                GeneratedTurn(
                    "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ú–µ–Ω—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –≤–∞—à–µ API. –ö–∞–∫–∏–µ endpoints –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ? "
                    "REST –∏–ª–∏ GraphQL? –ö–∞–∫–æ–π rate limiting? OAuth2 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç–µ?",
                    "API –≤–æ–ø—Ä–æ—Å—ã", "common_questions", ["API"]
                ),
                GeneratedTurn(
                    "–ê webhooks –µ—Å—Ç—å? –ù—É–∂–Ω–∞ real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –Ω–∞—à–µ–π ERP —Å–∏—Å—Ç–µ–º–æ–π",
                    "webhooks –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", "1c", ["–∏–Ω—Ç–µ–≥—Ä–∞—Ü"]
                ),
                GeneratedTurn("Ok, approved. –î–∞–≤–∞–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –Ω–∞—á–Ω—ë–º", "–æ–¥–æ–±—Ä–µ–Ω–æ", "agreement", []),
            ]
        )
        edge_cases.append(verbose_techie_scenario)

        return edge_cases


# =============================================================================
# –¢–ï–°–¢–û–í–´–ô –ó–ê–ü–£–°–ö
# =============================================================================

if __name__ == "__main__":
    print("=" * 60)
    print("–¢–ï–°–¢ –ì–ï–ù–ï–†–ê–¢–û–†–ê –î–ò–ê–õ–û–ì–û–í")
    print("=" * 60)

    generator = ScenarioGenerator()

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
    print("\n--- –°–ª—É—á–∞–π–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ ---")
    scenarios = generator.generate_batch(5)
    for sc in scenarios:
        print(f"\n[{sc.name}] –ü–µ—Ä—Å–æ–Ω–∞: {sc.persona}, –ë–∏–∑–Ω–µ—Å: {sc.business_type}")
        for turn in sc.turns:
            print(f"  User: {turn.user_message[:60]}...")
            print(f"  ‚Üí Topic: {turn.expected_topic}")

    # –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
    print("\n--- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ ---")
    edge_cases = generator.generate_edge_cases()
    for sc in edge_cases:
        print(f"\n[{sc.name}]")
        for turn in sc.turns:
            print(f"  User: {turn.user_message[:60]}...")

    # –¢–µ—Å—Ç –≤–∞—Ä–∏–∞—Ç–æ—Ä–∞
    print("\n--- –¢–µ—Å—Ç –≤–∞—Ä–∏–∞—Ç–æ—Ä–∞ ---")
    variator = MessageVariator()
    test_messages = [
        "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞?",
        "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ",
        "–ï—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kaspi?",
    ]
    for msg in test_messages:
        print(f"\n–û—Ä–∏–≥–∏–Ω–∞–ª: {msg}")
        for _ in range(3):
            varied = variator.generate_variation(msg, random.choice(["casual", "formal", "aggressive"]))
            print(f"  ‚Üí {varied}")
